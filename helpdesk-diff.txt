diff helpdesk/admin_approval.php helpdeskts2/admin_approval.php
1c1
< <?php 
---
> <?php
12c12
< ini_set( "session.gc_maxlifetime", $timeout );
---
> ini_set("session.gc_maxlifetime", $timeout);
16c16,18
< ini_set( "session.cookie_lifetime", $timeout );
---
> ini_set("session.cookie_lifetime", $timeout);
> 
> // session_start();
18,19d19
<   // session_start();
<   
21,22c21,22
< $url1=$_SERVER['REQUEST_URI'];
<     header("Refresh: 500; URL=$url1");
---
> $url1 = $_SERVER['REQUEST_URI'];
> header("Refresh: 500; URL=$url1");
25,30c25
< if(isset( $_COOKIE[ $s_name ] )) {
< 
<     setcookie( $s_name, $_COOKIE[ $s_name ], time() + $timeout, '/' );
< 
<     
< }
---
> if (isset($_COOKIE[$s_name])) {
32c27,28
< else
---
>   setcookie($s_name, $_COOKIE[$s_name], time() + $timeout, '/');
> } else
34c30
<     echo "Session is expired.<br/>";
---
>   echo "Session is expired.<br/>";
44,46c40,43
<     if(!isset($_SESSION['connected'])){
<       header("location: index.php");
<     }
---
> if (!isset($_SESSION['connected'])) {
>   header("location: index.php");
> }
> 
49d45
<         
51c47
< include ("includes/connect.php");
---
> include("includes/connect.php");
53c49
< $user_level=$_SESSION['level'];
---
> $user_level = $_SESSION['level'];
55c51
< if(isset($_POST['approveRequest'])){
---
> if (isset($_POST['approveRequest'])) {
61,63c57,58
<      $results = mysqli_query($con,$sql);
< 
<   }
---
>   $results = mysqli_query($con, $sql);
> }
67,75c62,69
<   if(isset($_POST['dissapproveRequest'])){
<     $requestID = $_POST['requestID'];
<     $remarks = $_POST['remarks'];
<     $date = date("ym-dH-is");
<     $username = $_SESSION['name'];
<     $sql = "UPDATE `request` SET `status2`='disapproved',`approving_admin`='$username',`head_approved_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
<        $results = mysqli_query($con,$sql);
<   
<     }
---
> if (isset($_POST['dissapproveRequest'])) {
>   $requestID = $_POST['requestID'];
>   $remarks = $_POST['remarks'];
>   $date = date("ym-dH-is");
>   $username = $_SESSION['name'];
>   $sql = "UPDATE `request` SET `status2`='disapproved',`approving_admin`='$username',`head_approved_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
>   $results = mysqli_query($con, $sql);
> }
92a87
> 
94,118c89,113
<     <meta charset="UTF-8">
<     <meta http-equiv="X-UA-Compatible" content="IE=edge">
<     <meta name="viewport" content="width=device-width, initial-scale=1.0">
<     <title>FEM MIS Helpdesk</title>
< 
< 
<     <!-- font awesome -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
<     <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
<     
< 
<      <!-- tailwind play cdn -->
<     <!-- <script src="https://cdn.tailwindcss.com"></script> -->
<     <script src="./cdn_tailwindcss.js"></script>
< 
<      <!-- from flowbite cdn -->
<     <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
<     <link rel="stylesheet" href="./node_modules/flowbite/dist/flowbite.min.css" />
< 
< 
<     <link rel="shortcut icon" href="resources/img/helpdesk.png">
<     <link rel="stylesheet" href="css/style.css" />
<     <!-- tailwind element -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" /> -->
< <!--     
---
>   <meta charset="UTF-8">
>   <meta http-equiv="X-UA-Compatible" content="IE=edge">
>   <meta name="viewport" content="width=device-width, initial-scale=1.0">
>   <title>Helpdesk</title>
> 
> 
>   <!-- font awesome -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
>   <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
> 
> 
>   <!-- tailwind play cdn -->
>   <!-- <script src="https://cdn.tailwindcss.com"></script> -->
>   <script src="./cdn_tailwindcss.js"></script>
> 
>   <!-- from flowbite cdn -->
>   <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
>   <link rel="stylesheet" href="./node_modules/flowbite/dist/flowbite.min.css" />
> 
> 
>   <link rel="shortcut icon" href="resources/img/helpdesk.png">
>   <link rel="stylesheet" href="css/style.css" />
>   <!-- tailwind element -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" /> -->
>   <!--     
121,123c116,118
< <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" /> -->
< <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
< <script src="https://cdn.tailwindcss.com"></script>
---
>   <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" /> -->
>   <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
>   <script src="https://cdn.tailwindcss.com"></script>
125,126c120,121
<     <!-- darkmode -->
<     <script>
---
>   <!-- darkmode -->
>   <script>
129c124
<         document.documentElement.classList.add('dark');
---
>       document.documentElement.classList.add('dark');
131c126
<         document.documentElement.classList.remove('dark')
---
>       document.documentElement.classList.remove('dark')
133c128
<     </script>
---
>   </script>
141d135
< <body  onload=navFuntion() class="static  bg-white dark:bg-gray-900"  >
143,144c137,140
<     <!-- nav -->
<     <?php require_once 'nav.php';?>
---
> <body onload=navFuntion() class="static  bg-white dark:bg-gray-900">
> 
>   <!-- nav -->
>   <?php require_once 'nav.php'; ?>
146d141
<    
148,149d142
<     <div class="   flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
< <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
151c144,145
<   <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
---
>   <div class="   flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
>     <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
152a147
>     <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
154,163d148
<     <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
<       <div class="overflow-hidden">
<       <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">JO :  <span class="text-blue-600 dark:text-blue-500">For Approval of Admin</span></h1>
<        
<         <table class="min-w-full text-center">
<           <thead class="border-b bg-gray-800">
<             <tr>
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<                No.
<               </th>
165,170c150,152
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<               Action
<               </th>
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Status
<               </th>
---
>       <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
>         <div class="overflow-hidden">
>           <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">JO : <span class="text-blue-600 dark:text-blue-500">For Approval of Admin</span></h1>
172,174c154,159
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 JO No.
<               </th>
---
>           <table class="min-w-full text-center">
>             <thead class="border-b bg-gray-800">
>               <tr>
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   No.
>                 </th>
176,178c161,166
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Assign Section
<               </th>
---
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   Action
>                 </th>
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Status
>                 </th>
180,182c168,170
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Date of Request
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   JO No.
>                 </th>
184,190c172,174
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Requestor
<               </th>
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Department
<               </th>
<              
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Assign Section
>                 </th>
191a176,178
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Date of Request
>                 </th>
193c180,185
<             
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Requestor
>                 </th>
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Department
>                 </th>
196,198d187
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 In-Charge
<               </th>
200,202d188
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Start
<               </th>
205,207d190
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Finish
<               </th>
209,211c192,194
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Attachment
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   In-Charge
>                 </th>
213,215c196,198
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Category
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Start
>                 </th>
218,220c201,203
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Details
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Finish
>                 </th>
222c205,207
<              
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Attachment
>                 </th>
223a209,211
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Category
>                 </th>
225c213,221
<               <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
---
> 
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Details
>                 </th>
> 
> 
> 
> 
>                 <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
229,230c225,226
<             </tr>
<           </thead class="border-b">
---
>               </tr>
>             </thead class="border-b">
234d229
<               
236d230
<           <tbody>
237a232
>             <tbody>
241d235
<           
243,244d236
<           
< <!--  start calling record on db -->
246,262d237
< <?php
<                 $a=1;
<                     //  include ("includes/connect.php");
<                     $sql="select * from request where status2 = 'admin'";
<                  
<                   // $sql="select * from request where status2='admin' order by ticket_no ASC  ";
<                   $result = mysqli_query($con,$sql);
<                 
<                  //  if(isset($_POST['searchh']  )){
<                     //   $search=mysqli_real_escape_string($mysqli,$_POST['search']);
<                   //     if($search!=""){
<                    //        $sql="select * from request where suppliername like '%$search%' or contact_person like '%$search%'"; 
<                            
<                  //  }
<              //  }
<            
<                 while($row=mysqli_fetch_assoc($result)){
264,265d238
<                 
<                   ?>
266a240,248
>               <!--  start calling record on db -->
> 
>               <?php
>               $a = 1;
>               //  include ("includes/connect.php");
>               $sql = "select * from request where status2 = 'admin'";
> 
>               // $sql="select * from request where status2='admin' order by ticket_no ASC  ";
>               $result = mysqli_query($con, $sql);
267a250,253
>               //  if(isset($_POST['searchh']  )){
>               //   $search=mysqli_real_escape_string($mysqli,$_POST['search']);
>               //     if($search!=""){
>               //        $sql="select * from request where suppliername like '%$search%' or contact_person like '%$search%'"; 
268a255,256
>               //  }
>               //  }
269a258
>               while ($row = mysqli_fetch_assoc($result)) {
271a261
>               ?>
279,280d268
<               <tr class="bg-white border-b">
<               <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++?></td>
282c270,278
<               <td class="px-6 py-4 text-right">
---
> 
> 
> 
> 
> 
>                 <tr class="bg-white border-b">
>                   <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++ ?></td>
> 
>                   <td class="px-6 py-4 text-right">
284,285c280,281
<                     <button type="button" id="approve" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-id ="<?php echo $row['request_to'];?>" data-bs-jonumber="<?php echo $row['ticket_no'];?>"  data-bs-perform="<?php echo $row['request_to'];?>">
<                     Approval
---
>                     <button type="button" id="approve" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-id="<?php echo $row['request_to']; ?>" data-bs-jonumber="<?php echo $row['ticket_no']; ?>" data-bs-perform="<?php echo $row['request_to']; ?>">
>                       Approval
287,308c283,298
<                 </td>
<                 <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
<   <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
<     <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
<       <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
<         <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
<           Approval of JO Number: 
<         </h5>
<         <button type="button"
<           class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
<           data-bs-dismiss="modal" aria-label="Close"></button>
<       </div>
<       <form method="POST" action="allrequest.php">
<       <div class="modal-body relative p-4">
<       <div class="mb-6">
<     <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
<     <input type="text" name="requestID" id="idInput" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<    
<    
<    
<     <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your remarks</label>
< <textarea id="message" name="remarks" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Write your thoughts here..."></textarea>
---
>                   </td>
>                   <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
>                     <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
>                       <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
>                         <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
>                           <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
>                             Approval of JO Number:
>                           </h5>
>                           <button type="button" class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline" data-bs-dismiss="modal" aria-label="Close"></button>
>                         </div>
>                         <form method="POST" action="allrequest.php">
>                           <div class="modal-body relative p-4">
>                             <div class="mb-6">
>                               <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
>                               <input type="text" name="requestID" id="idInput" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
> 
310d299
< <!-- <input type="text" name="performBy" id="performBy" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"> -->
312,313c301,302
< <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown" class="hidden mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" type="button">Perform by<svg class="w-4 h-4 ml-2" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24" ><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" required></path></svg></button>
< <!-- Dropdown menu -->
---
>                               <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your remarks</label>
>                               <textarea id="message" name="remarks" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Write your thoughts here..."></textarea>
315,325c304
< <select class="form-select"  name="userSelect" id="userSelect"class="mt-8   bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<               <option data-val="one" selected disabled>Select Member</option>
<   <?php              
<        $sql1 = "Select * FROM `user`";
<                $result = mysqli_query($con, $sql1);
<                 while($list=mysqli_fetch_assoc($result))
<                 {
<                     $userId=$list["id"];
<                     $headName=$list["name"];
<                     $username=$list["username"];
<                     $level=$list["level"];
---
>                               <!-- <input type="text" name="performBy" id="performBy" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"> -->
326a306,309
>                               <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown" class="hidden mt-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" type="button">Perform by<svg class="w-4 h-4 ml-2" aria-hidden="true" fill="none" stroke="currentColor" viewBox="0 0 24 24">
>                                   <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" required></path>
>                                 </svg></button>
>                               <!-- Dropdown menu -->
328,329c311,320
<                      ?>
<   <option value="<?php echo $headName ; ?>" data-val="<?php echo $level ; ?>"><?php echo $headName ; ?></option>
---
>                               <select class="form-select" name="userSelect" id="userSelect" class="mt-8   bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
>                                 <option data-val="one" selected disabled>Select Member</option>
>                                 <?php
>                                 $sql1 = "Select * FROM `user`";
>                                 $result = mysqli_query($con, $sql1);
>                                 while ($list = mysqli_fetch_assoc($result)) {
>                                   $userId = $list["id"];
>                                   $headName = $list["name"];
>                                   $username = $list["username"];
>                                   $level = $list["level"];
331,332d321
<   <?php 
<            }    
334,335c323,324
<            ?>
<   </select>
---
>                                 ?>
>                                   <option value="<?php echo $headName; ?>" data-val="<?php echo $level; ?>"><?php echo $headName; ?></option>
336a326,327
>                                 <?php
>                                 }
337a329,330
>                                 ?>
>                               </select>
339,349d331
<   <select class="form-select"  name="femmis" id="fem_mis"class="  mt-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<               <option data-val="member" selected disabled>Assign Member</option>
<   <?php              
<        $sql1 = "Select * FROM `user` where level='fem' or level='mis'";
<                $result = mysqli_query($con, $sql1);
<                 while($list=mysqli_fetch_assoc($result))
<                 {
<                     $userId=$list["id"];
<                     $memberName=$list["name"];
<                     $username=$list["username"];
<                     $level=$list["level"];
352,353c334,343
<                      ?>
<   <option value="<?php echo  $memberName ; ?>" data-val="<?php echo $level ; ?>"><?php echo  $memberName ; ?></option>
---
>                               <select class="form-select" name="femmis" id="fem_mis" class="  mt-8 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
>                                 <option data-val="member" selected disabled>Assign Member</option>
>                                 <?php
>                                 $sql1 = "Select * FROM `user` where level='fem' or level='mis'";
>                                 $result = mysqli_query($con, $sql1);
>                                 while ($list = mysqli_fetch_assoc($result)) {
>                                   $userId = $list["id"];
>                                   $memberName = $list["name"];
>                                   $username = $list["username"];
>                                   $level = $list["level"];
355,356d344
<   <?php 
<            }    
358,359c346,347
<            ?>
<   </select>
---
>                                 ?>
>                                   <option value="<?php echo  $memberName; ?>" data-val="<?php echo $level; ?>"><?php echo  $memberName; ?></option>
360a349,350
>                                 <?php
>                                 }
361a352,353
>                                 ?>
>                               </select>
371c363,365
< <!-- <div id="dropdown" class="z-0 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700" required="">
---
> 
> 
>                               <!-- <div id="dropdown" class="z-0 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700" required="">
374,388c368,380
<    <?php
<             //    $sql1 = "Select * FROM `user` WHERE `username`='$username'";
<               //  $sql1 = "Select * FROM `user`WHERE `level`='fem'  ";
<               //  $result = mysqli_query($con, $sql1);
<               //   while($list=mysqli_fetch_assoc($result))
<               //   {
<               //       $userId=$list["id"];
<               //       $headName=$list["name"];
<                      ?>
< 
<                  <!-- <option selected  disabled class="text-gray-900">Choose Head:</option>  -->
<                 <!-- <option class="hidden" value="<?php echo  $userId; ?>"> <?php echo  $headName; ?>  </option> -->
<                  <?php 
<                     
<                 // }    
---
>                               <?php
>                               //    $sql1 = "Select * FROM `user` WHERE `username`='$username'";
>                               //  $sql1 = "Select * FROM `user`WHERE `level`='fem'  ";
>                               //  $result = mysqli_query($con, $sql1);
>                               //   while($list=mysqli_fetch_assoc($result))
>                               //   {
>                               //       $userId=$list["id"];
>                               //       $headName=$list["name"];
>                               ?>
> 
>                               <!-- <option selected  disabled class="text-gray-900">Choose Head:</option>  -->
>                               <!-- <option class="hidden" value="<?php echo  $userId; ?>"> <?php echo  $headName; ?>  </option> -->
>                               <?php
390,391c382,385
<                 ?>
<     <!-- </ul>
---
>                               // }    
> 
>                               ?>
>                               <!-- </ul>
395,412c389,403
< </div>
<       </div>
<       <div
<         class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
<         <button type="submit" name="dissapproveRequest"
<           class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out"
<           data-bs-dismiss="modal">
<           Disapprove
<         </button>
<         <button type="submit" name="approveRequest"
<           class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1">
<           Approve
<         </button>
<       </div>
<       </form>
<     </div>
<   </div>
< </div>
---
>                             </div>
>                           </div>
>                           <div class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
>                             <button type="submit" name="dissapproveRequest" class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-dismiss="modal">
>                               Disapprove
>                             </button>
>                             <button type="submit" name="approveRequest" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1">
>                               Approve
>                             </button>
>                           </div>
>                         </form>
>                       </div>
>                     </div>
>                   </div>
> 
424a416,418
>                   <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['status']; ?>
>                   </td>
426,428d419
<               <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['status'];?> 
<               </td>
430d420
<               
433,435c423,425
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['ticket_no'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['ticket_no']; ?>
>                   </td>
437,439c427,429
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_to'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_to']; ?>
>                   </td>
441,443c431,433
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['date_filled'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['date_filled']; ?>
>                   </td>
445,447c435,437
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['requestor'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['requestor']; ?>
>                   </td>
449,451c439,441
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['department'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['department']; ?>
>                   </td>
453d442
<              
456,458d444
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['perform_by'];?> 
<               </td>
459a446,448
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['perform_by']; ?>
>                   </td>
461,463d449
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqstart_date'];?> 
<               </td>
464a451,453
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqstart_date']; ?>
>                   </td>
466,468d454
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqfinish_date'];?> 
<               </td>
469a456,458
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqfinish_date']; ?>
>                   </td>
472,485d460
<               <!-- to view pdf -->
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<                 <?php if ($row['attachment'] != null){
<                 ?>
<                 <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment'];?>">View</a>
<                 <?php
<                 } else{
<                   ?>
<                 <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
<                 <?php
<                 }
<                   ?>
<               
<               </td>
486a462,473
>                   <!-- to view pdf -->
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php if ($row['attachment'] != null) {
>                     ?>
>                       <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment']; ?>">View</a>
>                     <?php
>                     } else {
>                     ?>
>                       <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
>                     <?php
>                     }
>                     ?>
487a475
>                   </td>
489,491d476
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_category'];?> 
<               </td>
493a479,481
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_category']; ?>
>                   </td>
496,498c484,488
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_details'];?> 
<               </td>
---
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_details']; ?>
>                   </td>
505c495,499
<                   <?php
---
>               <?php
> 
>               }
> 
>               ?>
507,509d500
<                 }
<               
<                ?>
514,516d504
<            
<    
<          
519,521c507,512
<            
<           </tbody>
<         </table>
---
> 
> 
> 
>             </tbody>
>           </table>
>         </div>
525,526d515
< </div>
<   
552d540
<     
554d541
< <!-- flowbite javascript -->
556c543,546
< <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
---
> 
>   <!-- flowbite javascript -->
> 
>   <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
559,561c549,551
< <script src="./node_modules/flowbite/dist/flowbite.js"></script>
< <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
< <script src="./node_modules/jquery/dist/jquery.min.js"></script>
---
>   <script src="./node_modules/flowbite/dist/flowbite.js"></script>
>   <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
>   <script src="./node_modules/jquery/dist/jquery.min.js"></script>
564,566c554,563
< <!-- darkmode script -->
< <script>  
<  
---
>   <!-- darkmode script -->
>   <script>
>     const exampleModal = document.getElementById('exampleModalCenter')
>     exampleModal.addEventListener('show.bs.modal', event => {
>       // Button that triggered the modal
>       const button = event.relatedTarget
>       // Extract info from data-bs-* attributes
>       const requestId = button.getAttribute('data-bs-id');
>       const joNumber = button.getAttribute('data-bs-jonumber')
>       const perform = button.getAttribute('data-bs-perform')
568,575d564
< const exampleModal = document.getElementById('exampleModalCenter')
< exampleModal.addEventListener('show.bs.modal', event => {
<   // Button that triggered the modal
<   const button = event.relatedTarget
<   // Extract info from data-bs-* attributes
<   const requestId = button.getAttribute('data-bs-id');
<   const joNumber = button.getAttribute('data-bs-jonumber')
<   const perform = button.getAttribute('data-bs-perform')
576a566,571
>       // If necessary, you could initiate an AJAX request here
>       // and then do the updating in a callback.
>       //
>       // Update the modal's content.
>       // const performBy = exampleModal.querySelector('#performBy')
>       const modalId = exampleModal.querySelector('#idInput')
578,583c573
<   // If necessary, you could initiate an AJAX request here
<   // and then do the updating in a callback.
<   //
<   // Update the modal's content.
<   // const performBy = exampleModal.querySelector('#performBy')
<   const modalId = exampleModal.querySelector('#idInput')
---
>       const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
585d574
<   const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
588,591c577,579
<   
<   // performBy.value = `${perform}`
<   modalId.value = `${requestId}`
<   ticketNo.textContent = `Approval of JO number: ${joNumber}`
---
>       // performBy.value = `${perform}`
>       modalId.value = `${requestId}`
>       ticketNo.textContent = `Approval of JO number: ${joNumber}`
597,606c585,594
<   var $options = $('#userSelect')
<     .val('')
<     .find('option')
<     .show();
<     if (perform != '0')
<     $options
<     .not('[data-val="' + perform + '"], [data-val="one"]')
<     .hide();
<     $('#userSelect option:eq(0)').prop('selected', true)
< })
---
>       var $options = $('#userSelect')
>         .val('')
>         .find('option')
>         .show();
>       if (perform != '0')
>         $options
>         .not('[data-val="' + perform + '"], [data-val="one"]')
>         .hide();
>       $('#userSelect option:eq(0)').prop('selected', true)
>     })
613,614c601,602
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
---
>     var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>     var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
616,621c604,609
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
---
>     // Change the icons inside the button based on previous settings
>     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>       themeToggleLightIcon.classList.remove('hidden');
>     } else {
>       themeToggleDarkIcon.classList.remove('hidden');
>     }
623c611
< var themeToggleBtn = document.getElementById('theme-toggle');
---
>     var themeToggleBtn = document.getElementById('theme-toggle');
625c613
< themeToggleBtn.addEventListener('click', function() {
---
>     themeToggleBtn.addEventListener('click', function() {
627,629c615,617
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
---
>       // toggle icons inside button
>       themeToggleDarkIcon.classList.toggle('hidden');
>       themeToggleLightIcon.classList.toggle('hidden');
631,632c619,620
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
---
>       // if set via local storage previously
>       if (localStorage.getItem('color-theme')) {
634,635c622,623
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
637,638c625,626
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
641,642c629,630
<     // if NOT set via local storage previously
<     } else {
---
>         // if NOT set via local storage previously
>       } else {
644,645c632,633
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
647,648c635,636
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
650,652c638
<     }
<     
< });
---
>       }
653a640
>     });
655d641
< // active page highlight
657,661c643
< var activepage = document.getElementById("side");
< activepage.classList.remove("text-gray-700");
< activepage.classList.add("text-blue-700");
< activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
---
>     // active page highlight
663c645,650
< </script>
---
>     var activepage = document.getElementById("side");
>     activepage.classList.remove("text-gray-700");
>     activepage.classList.add("text-blue-700");
>     activepage.classList.remove("dark:text-gray-400");
>     activepage.classList.add("dark:text-white");
>   </script>
665a653
> 
diff helpdesk/allrequest.php helpdeskts2/allrequest.php
1c1
< <?php 
---
> <?php
10c10
< ini_set( "session.gc_maxlifetime", $timeout );
---
> ini_set("session.gc_maxlifetime", $timeout);
14c14,16
< ini_set( "session.cookie_lifetime", $timeout );
---
> ini_set("session.cookie_lifetime", $timeout);
> 
> // session_start();
16,17d17
<   // session_start();
<   
19,20c19,20
< $url1=$_SERVER['REQUEST_URI'];
<     header("Refresh: 500; URL=$url1");
---
> $url1 = $_SERVER['REQUEST_URI'];
> header("Refresh: 500; URL=$url1");
23,25c23
< if(isset( $_COOKIE[ $s_name ] )) {
< 
<     setcookie( $s_name, $_COOKIE[ $s_name ], time() + $timeout, '/' );
---
> if (isset($_COOKIE[$s_name])) {
27,30c25,26
<     
< }
< 
< else
---
>   setcookie($s_name, $_COOKIE[$s_name], time() + $timeout, '/');
> } else
32c28
<     echo "Session is expired.<br/>";
---
>   echo "Session is expired.<br/>";
42,44c38,41
<     if(!isset($_SESSION['connected'])){
<       header("location: index.php");
<     }
---
> if (!isset($_SESSION['connected'])) {
>   header("location: index.php");
> }
> 
47d43
<         
49c45
< include ("includes/connect.php");
---
> include("includes/connect.php");
51c47
< $user_level=$_SESSION['level'];
---
> $user_level = $_SESSION['level'];
53c49
< if(isset($_POST['approveRequest'])){
---
> if (isset($_POST['approveRequest'])) {
59,61c55,56
<      $results = mysqli_query($con,$sql);
< 
<   }
---
>   $results = mysqli_query($con, $sql);
> }
65,73c60,67
<   if(isset($_POST['dissapproveRequest'])){
<     $requestID = $_POST['requestID'];
<     $remarks = $_POST['remarks'];
<     $date = date("ym-dH-is");
<     $username = $_SESSION['name'];
<     $sql = "UPDATE `request` SET `status2`='Disapproved by head',`approving_head`='$username',`head_approved_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
<        $results = mysqli_query($con,$sql);
<   
<     }
---
> if (isset($_POST['dissapproveRequest'])) {
>   $requestID = $_POST['requestID'];
>   $remarks = $_POST['remarks'];
>   $date = date("ym-dH-is");
>   $username = $_SESSION['name'];
>   $sql = "UPDATE `request` SET `status2`='Disapproved by head',`approving_head`='$username',`head_approved_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
>   $results = mysqli_query($con, $sql);
> }
77,88d70
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
< 
90a73
> 
92,95c75,78
<     <meta charset="UTF-8">
<     <meta http-equiv="X-UA-Compatible" content="IE=edge">
<     <meta name="viewport" content="width=device-width, initial-scale=1.0">
<     <title>FEM MIS Helpdesk</title>
---
>   <meta charset="UTF-8">
>   <meta http-equiv="X-UA-Compatible" content="IE=edge">
>   <meta name="viewport" content="width=device-width, initial-scale=1.0">
>   <title>Helpdesk</title>
98,101c81,83
<     <!-- font awesome -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
<     <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
<     
---
>   <!-- font awesome -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
>   <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
103,105d84
<      <!-- tailwind play cdn -->
<     <!-- <script src="https://cdn.tailwindcss.com"></script> -->
<     <script src="./cdn_tailwindcss.js"></script>
107,109c86,88
<      <!-- from flowbite cdn -->
<     <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
<     <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
---
>   <!-- tailwind play cdn -->
>   <!-- <script src="https://cdn.tailwindcss.com"></script> -->
>   <script src="./cdn_tailwindcss.js"></script>
111,112c90,92
<     <!-- modal and other tailwind elements -->
<     <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
---
>   <!-- from flowbite cdn -->
>   <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
>   <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
114,115c94,95
<     <link rel="shortcut icon" href="resources/img/helpdesk.png">
<     <!-- <link rel="stylesheet" href="css/style.css" /> -->
---
>   <!-- modal and other tailwind elements -->
>   <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
117,118c97,101
<     <!-- tailwind element -->
<  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" /> 
---
>   <link rel="shortcut icon" href="resources/img/helpdesk.png">
>   <!-- <link rel="stylesheet" href="css/style.css" /> -->
> 
>   <!-- tailwind element -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" /> 
122c105
< <!-- <script src="https://cdn.tailwindcss.com"></script> -->
---
>   <!-- <script src="https://cdn.tailwindcss.com"></script> -->
124,125c107,108
<     <!-- darkmode -->
<     <script>
---
>   <!-- darkmode -->
>   <script>
128c111
<         document.documentElement.classList.add('dark');
---
>       document.documentElement.classList.add('dark');
130c113
<         document.documentElement.classList.remove('dark')
---
>       document.documentElement.classList.remove('dark')
132c115
<     </script>
---
>   </script>
140d122
< <body  onload=navFuntion() class="static  bg-white dark:bg-gray-900"  >
142,143c124,127
<     <!-- nav -->
<     <?php require_once 'nav.php';?>
---
> <body onload=navFuntion() class="static  bg-white dark:bg-gray-900">
> 
>   <!-- nav -->
>   <?php require_once 'nav.php'; ?>
145d128
<    
147,148d129
<     <div class=" flex mt-24   left-10 right-5 flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
< <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
150c131,132
<   <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
---
>   <div class=" flex mt-24   left-10 right-5 flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
>     <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
151a134
>     <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
153,162d135
<     <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
<       <div class="overflow-hidden">
<       <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order:  <span class="text-blue-600 dark:text-blue-500">All Request</span></h1>
<        
<         <table class="min-w-full text-center">
<           <thead class="border-b bg-gray-800">
<             <tr>
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<                No.
<               </th>
164,166c137,139
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<               View JO
<               </th>
---
>       <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
>         <div class="overflow-hidden">
>           <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order: <span class="text-blue-600 dark:text-blue-500">All Request</span></h1>
168c141,152
<               <!-- <th scope="col" class="text-sm font-small text-white px-2 py-4">
---
>           <table class="min-w-full text-center">
>             <thead class="border-b bg-gray-800">
>               <tr>
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   No.
>                 </th>
> 
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   View JO
>                 </th>
> 
>                 <!-- <th scope="col" class="text-sm font-small text-white px-2 py-4">
172,194c156,158
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Status
<               </th>
< 
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 JO No.
<               </th>
< 
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Assign Section
<               </th>
< 
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Date of Request
<               </th>
< 
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Requestor
<               </th>
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Department
<               </th>
<              
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Status
>                 </th>
195a160,162
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   JO No.
>                 </th>
197c164,166
<             
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Assign Section
>                 </th>
198a168,170
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Date of Request
>                 </th>
200,202c172,177
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 In-Charge
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Requestor
>                 </th>
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Department
>                 </th>
204,206d178
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Start
<               </th>
209,211d180
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Finish
<               </th>
213,215d181
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Attachment
<               </th>
217,219d182
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Category
<               </th>
220a184,203
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   In-Charge
>                 </th>
> 
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Start
>                 </th>
> 
> 
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Finish
>                 </th>
> 
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Attachment
>                 </th>
> 
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Category
>                 </th>
222d204
<              
224d205
<              
227c208,211
<               <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
---
> 
> 
> 
>                 <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
231,232c215,216
<             </tr>
<           </thead class="border-b">
---
>               </tr>
>             </thead class="border-b">
236d219
<               
238d220
<           <tbody>
239a222
>             <tbody>
243d225
<           
245,246d226
<           
< <!--  start calling record on db -->
248,264d227
< <?php
<                 $a=1;
<                     //  include ("includes/connect.php");
<                  
<                  
<                   $sql="select * from request  order by ticket_no ASC  ";
<                   $result = mysqli_query($con,$sql);
<                 
<                  //  if(isset($_POST['searchh']  )){
<                     //   $search=mysqli_real_escape_string($mysqli,$_POST['search']);
<                   //     if($search!=""){
<                    //        $sql="select * from request where suppliername like '%$search%' or contact_person like '%$search%'"; 
<                            
<                  //  }
<              //  }
<            
<                 while($row=mysqli_fetch_assoc($result)){
266,267d228
<                 
<                   ?>
268a230,238
>               <!--  start calling record on db -->
> 
>               <?php
>               $a = 1;
>               //  include ("includes/connect.php");
> 
> 
>               $sql = "select * from request  order by ticket_no ASC  ";
>               $result = mysqli_query($con, $sql);
269a240,243
>               //  if(isset($_POST['searchh']  )){
>               //   $search=mysqli_real_escape_string($mysqli,$_POST['search']);
>               //     if($search!=""){
>               //        $sql="select * from request where suppliername like '%$search%' or contact_person like '%$search%'"; 
270a245,246
>               //  }
>               //  }
271a248
>               while ($row = mysqli_fetch_assoc($result)) {
273a251
>               ?>
281,282d258
<               <tr class="bg-white border-b">
<               <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++?></td>
286c262,270
<               <td class="px-6 py-4 text-right">
---
> 
> 
> 
>                 <tr class="bg-white border-b">
>                   <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++ ?></td>
> 
> 
> 
>                   <td class="px-6 py-4 text-right">
288c272
<                     <button type="button" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-jonumber="<?php echo $row['ticket_no'];?>" data-bs-id="<?php echo $row['id'];?>" data-bs-jorequest="<?php echo $row['request_details'];?>">                    View JO
---
>                     <button type="button" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-jonumber="<?php echo $row['ticket_no']; ?>" data-bs-id="<?php echo $row['id']; ?>" data-bs-jorequest="<?php echo $row['request_details']; ?>"> View JO
290,306c274,277
<                 </td>
<                 <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
<   <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
<     <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
<       
<     <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
<         
< 
<         <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
<           JO Number////////: 
<         </h5>
<                 
< 
<         <button type="button"
<           class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
<           data-bs-dismiss="modal" aria-label="Close"></button>
<       </div>
---
>                   </td>
>                   <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
>                     <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
>                       <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
308,315c279
<       <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
<       <h5 class="text-lg font-medium leading-normal text-blue-800">Details of Request : </h5>
<                 </div>
<       <div class="modal-header flex flex-shrink-0 items-center justify-between p-4  rounded-t-md">
<       <p class="text-sm font-medium leading-normal text-gray-800" id="ticketdetails">
<          details////////: 
<                 </p>
<       </div>
---
>                         <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
317a282,284
>                           <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
>                             JO Number////////:
>                           </h5>
319,323d285
<       <form method="POST" action="allrequest.php">
<       <div class="modal-body relative p-4">
<       <div class="mb-6">
<     <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
<     <input type="text" name="requestID" id="idInput" class="hidden bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
325,340c287,288
< </div>
<       </div>
<       <div
<         class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
<         <button  
<           class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out"
<           data-bs-dismiss="modal">
<           Close
<         </button>
<         
<        
<       </div>
<       </form>
<     </div>
<   </div>
< </div>
---
>                           <button type="button" class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline" data-bs-dismiss="modal" aria-label="Close"></button>
>                         </div>
341a290,297
>                         <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
>                           <h5 class="text-lg font-medium leading-normal text-blue-800">Details of Request : </h5>
>                         </div>
>                         <div class="modal-header flex flex-shrink-0 items-center justify-between p-4  rounded-t-md">
>                           <p class="text-sm font-medium leading-normal text-gray-800" id="ticketdetails">
>                             details////////:
>                           </p>
>                         </div>
345c301,305
<  
---
>                         <form method="POST" action="allrequest.php">
>                           <div class="modal-body relative p-4">
>                             <div class="mb-6">
>                               <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
>                               <input type="text" name="requestID" id="idInput" class="hidden bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
347,349c307,312
<               <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['status'];?> 
<               </td>
---
>                             </div>
>                           </div>
>                           <div class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
>                             <button class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-dismiss="modal">
>                               Close
>                             </button>
351d313
<               
352a315,319
>                           </div>
>                         </form>
>                       </div>
>                     </div>
>                   </div>
354,356d320
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['ticket_no'];?> 
<               </td>
358,360d321
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_to'];?> 
<               </td>
362,364d322
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['date_filled'];?> 
<               </td>
366,368d323
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['requestor'];?> 
<               </td>
370,372d324
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['department'];?> 
<               </td>
374c326,328
<              
---
>                   <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['status']; ?>
>                   </td>
377,379d330
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['perform_by'];?> 
<               </td>
382,384c333,335
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqstart_date'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['ticket_no']; ?>
>                   </td>
385a337,339
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_to']; ?>
>                   </td>
387,389c341,343
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqfinish_date'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['date_filled']; ?>
>                   </td>
390a345,347
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['requestor']; ?>
>                   </td>
391a349,351
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['department']; ?>
>                   </td>
393,406d352
<               <!-- to view pdf -->
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<                 <?php if ($row['attachment'] != null){
<                 ?>
<                 <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment'];?>" target="_blank">View</a>
<                 <?php
<                 } else{
<                   ?>
<                 <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
<                 <?php
<                 }
<                   ?>
<               
<               </td>
410,412c356,392
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_category'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['perform_by']; ?>
>                   </td>
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqstart_date']; ?>
>                   </td>
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqfinish_date']; ?>
>                   </td>
> 
> 
> 
>                   <!-- to view pdf -->
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php if ($row['attachment'] != null) {
>                     ?>
>                       <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment']; ?>" target="_blank">View</a>
>                     <?php
>                     } else {
>                     ?>
>                       <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
>                     <?php
>                     }
>                     ?>
> 
>                   </td>
> 
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_category']; ?>
>                   </td>
> 
417d396
<               
423c402,406
<                   <?php
---
>               <?php
> 
>               }
> 
>               ?>
425,427d407
<                 }
<               
<                ?>
432d411
<            
461c440
<              
---
> 
467c446
< <!--          
---
>               <!--          
479d457
<               
481d458
<          
484,486c461,466
<            
<           </tbody>
<         </table>
---
> 
> 
> 
>             </tbody>
>           </table>
>         </div>
490,491d469
< </div>
<   
517d494
<     
519,521d495
< <!-- flowbite javascript -->
< <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script> -->
< <script src="./node_modules/flowbite/dist/flowbite.js"></script>
523,524d496
< <!-- <script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script> -->
< <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
525a498,500
>   <!-- flowbite javascript -->
>   <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script> -->
>   <script src="./node_modules/flowbite/dist/flowbite.js"></script>
526a502,503
>   <!-- <script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script> -->
>   <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
529,530d505
< <!-- darkmode script -->
< <script>  
532a508,517
>   <!-- darkmode script -->
>   <script>
>     const exampleModal = document.getElementById('exampleModalCenter')
>     exampleModal.addEventListener('show.bs.modal', event => {
>       // Button that triggered the modal
>       const button = event.relatedTarget
>       // Extract info from data-bs-* attributes
>       const requestId = button.getAttribute('data-bs-id');
>       const joNumber = button.getAttribute('data-bs-jonumber')
>       const joRequest = button.getAttribute('data-bs-jorequest')
534,541c519,525
< const exampleModal = document.getElementById('exampleModalCenter')
< exampleModal.addEventListener('show.bs.modal', event => {
<   // Button that triggered the modal
<   const button = event.relatedTarget
<   // Extract info from data-bs-* attributes
<   const requestId = button.getAttribute('data-bs-id');
<   const joNumber = button.getAttribute('data-bs-jonumber')
<   const joRequest = button.getAttribute('data-bs-jorequest')
---
>       // If necessary, you could initiate an AJAX request here
>       // and then do the updating in a callback.
>       //
>       // Update the modal's content.
>       const modalId = exampleModal.querySelector('#idInput')
>       const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
>       const joDetails = exampleModal.querySelector('#ticketdetails')
543,549d526
<   // If necessary, you could initiate an AJAX request here
<   // and then do the updating in a callback.
<   //
<   // Update the modal's content.
<   const modalId = exampleModal.querySelector('#idInput')
<   const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
<   const joDetails = exampleModal.querySelector('#ticketdetails')
552,555c529,531
<   
<   modalId.value = `${requestId}`
<   ticketNo.textContent = `JO No. : ${joNumber}`
<   joDetails.textContent = ` ${joRequest}`
---
>       modalId.value = `${requestId}`
>       ticketNo.textContent = `JO No. : ${joNumber}`
>       joDetails.textContent = ` ${joRequest}`
557c533
< })
---
>     })
567,568c543,544
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
---
>     var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>     var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
570,575c546,551
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
---
>     // Change the icons inside the button based on previous settings
>     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>       themeToggleLightIcon.classList.remove('hidden');
>     } else {
>       themeToggleDarkIcon.classList.remove('hidden');
>     }
577c553
< var themeToggleBtn = document.getElementById('theme-toggle');
---
>     var themeToggleBtn = document.getElementById('theme-toggle');
579c555
< themeToggleBtn.addEventListener('click', function() {
---
>     themeToggleBtn.addEventListener('click', function() {
581,583c557,559
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
---
>       // toggle icons inside button
>       themeToggleDarkIcon.classList.toggle('hidden');
>       themeToggleLightIcon.classList.toggle('hidden');
585,586c561,562
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
---
>       // if set via local storage previously
>       if (localStorage.getItem('color-theme')) {
588,589c564,565
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
591,592c567,568
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
595,596c571,572
<     // if NOT set via local storage previously
<     } else {
---
>         // if NOT set via local storage previously
>       } else {
598,599c574,575
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
601,602c577,578
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
604,606c580
<     }
<     
< });
---
>       }
607a582
>     });
609d583
< // active page highlight
611,615c585
< var activepage = document.getElementById("allrequest");
< activepage.classList.remove("text-gray-700");
< activepage.classList.add("text-blue-700");
< activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
---
>     // active page highlight
617c587,592
< </script>
---
>     var activepage = document.getElementById("allrequest");
>     activepage.classList.remove("text-gray-700");
>     activepage.classList.add("text-blue-700");
>     activepage.classList.remove("dark:text-gray-400");
>     activepage.classList.add("dark:text-white");
>   </script>
619a595
> 
Common subdirectories: helpdesk/db and helpdeskts2/db
Common subdirectories: helpdesk/department-admin and helpdeskts2/department-admin
Common subdirectories: helpdesk/department-head and helpdeskts2/department-head
Common subdirectories: helpdesk/dist and helpdeskts2/dist
Common subdirectories: helpdesk/dompdf and helpdeskts2/dompdf
Common subdirectories: helpdesk/employees and helpdeskts2/employees
Common subdirectories: helpdesk/fem and helpdeskts2/fem
Only in helpdeskts2: fem-admin
Common subdirectories: helpdesk/fontawesome-free-6.2.0-web and helpdeskts2/fontawesome-free-6.2.0-web
diff helpdesk/form.php helpdeskts2/form.php
1,2c1
< 
< <?php 
---
> <?php
12c11
< ini_set( "session.gc_maxlifetime", $timeout );
---
> ini_set("session.gc_maxlifetime", $timeout);
16c15,17
< ini_set( "session.cookie_lifetime", $timeout );
---
> ini_set("session.cookie_lifetime", $timeout);
> 
> // session_start();
18,19d18
<   // session_start();
<   
21,22c20,21
< $url1=$_SERVER['REQUEST_URI'];
<     header("Refresh: 500; URL=$url1");
---
> $url1 = $_SERVER['REQUEST_URI'];
> header("Refresh: 500; URL=$url1");
25,30c24
< if(isset( $_COOKIE[ $s_name ] )) {
< 
<     setcookie( $s_name, $_COOKIE[ $s_name ], time() + $timeout, '/' );
< 
<     
< }
---
> if (isset($_COOKIE[$s_name])) {
32c26,27
< else
---
>   setcookie($s_name, $_COOKIE[$s_name], time() + $timeout, '/');
> } else
34c29
<     echo "Session is expired.<br/>";
---
>   echo "Session is expired.<br/>";
43,45c38,40
<     if(!isset($_SESSION['connected'])){
<       header("location: index.php");
<     }
---
> if (!isset($_SESSION['connected'])) {
>   header("location: index.php");
> }
49,53c44,48
<     include ("includes/connect.php");
<     $user_dept = $_SESSION['department'];
<     $user_level=$_SESSION['level'];
<     $user_name=$_SESSION['name'];
<    
---
> include("includes/connect.php");
> $user_dept = $_SESSION['department'];
> $user_level = $_SESSION['level'];
> $user_name = $_SESSION['name'];
> 
68c63,91
< $jono=date("ym-dH-is");
---
> $jono = date("ym-dH-is");
> 
> 
> if (isset($_POST['submit'])) {
>   // include ("includes/connect.php");
>   $userid = $_POST['head'];
> 
>   $sql1 = "Select * FROM `user` WHERE `id` = '$userid'";
>   $result = mysqli_query($con, $sql1);
>   while ($list = mysqli_fetch_assoc($result)) {
>     $email = $list["email"];
>     $headname = $list["name"];
>     // $user=$list["name"];
> 
>   }
>   // echo $email;
> 
> 
>   $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
>   $result2 = mysqli_query($con, $sql2);
>   while ($list = mysqli_fetch_assoc($result2)) {
> 
> 
>     $account = $list["email"];
>     $accountpass = $list["password"];
>     // $user=$list["name"];
> 
>   }
>   // echo $email;
71,149d93
<         if(isset($_POST['submit'])){
<             // include ("includes/connect.php");
<             $userid = $_POST['head'];
< 
<             $sql1 = "Select * FROM `user` WHERE `id` = '$userid'";
<                        $result = mysqli_query($con, $sql1);
<                         while($list=mysqli_fetch_assoc($result))
<                         {
<                             $email=$list["email"];
<                             $headname=$list["name"];
<                             // $user=$list["name"];
<                             
<                         }    
<         // echo $email;
< 
< 
<         $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
<         $result2 = mysqli_query($con, $sql2);
<          while($list=mysqli_fetch_assoc($result2))
<          {
< 
<           
<              $account=$list["email"];
<              $accountpass=$list["password"];
<              // $user=$list["name"];
<        
<          }    
< // echo $email;
<      
<         
< 
<         // $email = $_POST['email'];
<         $subject ='JO Request for Approval'." ".$jono;
<         $message = 'Hi '." ". $headname .' You have pending JO for your Approval.<br/>'.
<         'Please login to http://192.168.5.246/helpdesk.com <br/>'.
<         'This is a system generated email. Please do not reply to this message.';
<     
<         // $filename = $_FILES['attachment']['name'];
<         // $location = 'attachment/' . $filename;
<         // move_uploaded_file($_FILES['attachment']['tmp_name'], $location);
<     
<         //Load composer's autoloader
<         require 'vendor/autoload.php';
<     
<         $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
<         try {
<             //Server settings
<             $mail->isSMTP();                                      // Set mailer to use SMTP
<             $mail->Host = 'mail.glorylocal.com.ph';                       // Specify main and backup SMTP servers
<             $mail->SMTPAuth = true;                               // Enable SMTP authentication
<             $mail->Username = $account;     // Your Email/ Server Email
<             $mail->Password = $accountpass;                     // Your Password
<             $mail->SMTPOptions = array(
<                 'ssl' => array(
<                 'verify_peer' => false,
<                 'verify_peer_name' => false,
<                 'allow_self_signed' => true
<                 )
<             );                         
<             $mail->SMTPSecure = 'ssl';                           
<             $mail->Port = 465;                                   
<     
<             //Send Email
<            
<             
<             //Recipients
<             $mail->addAddress($email);              
<             
< 
<             $mail->isHTML(true);                                  
<             $mail->Subject = $subject;
<             $mail->Body    = $message;
<     
<             $mail->send();
<             $_SESSION['message'] = 'Message has been sent';
<             // header("location: form.php");
<         } catch (Exception $e) {
<             $_SESSION['message'] = 'Message could not be sent. Mailer Error: '.$mail->ErrorInfo;
<         }
150a95,99
>   // $email = $_POST['email'];
>   $subject = 'JO Request for Approval' . " " . $jono;
>   $message = 'Hi ' . " " . $headname . ' You have pending JO for your Approval.<br/>' .
>     'Please login to http://192.168.5.246/helpdesk.com <br/>' .
>     'This is a system generated email. Please do not reply to this message.';
152c101,103
<         // end of sending email
---
>   // $filename = $_FILES['attachment']['name'];
>   // $location = 'attachment/' . $filename;
>   // move_uploaded_file($_FILES['attachment']['tmp_name'], $location);
153a105,106
>   //Load composer's autoloader
>   require 'vendor/autoload.php';
154a108,124
>   $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
>   try {
>     //Server settings
>     $mail->isSMTP();                                      // Set mailer to use SMTP
>     $mail->Host = 'mail.glorylocal.com.ph';                       // Specify main and backup SMTP servers
>     $mail->SMTPAuth = true;                               // Enable SMTP authentication
>     $mail->Username = $account;     // Your Email/ Server Email
>     $mail->Password = $accountpass;                     // Your Password
>     $mail->SMTPOptions = array(
>       'ssl' => array(
>         'verify_peer' => false,
>         'verify_peer_name' => false,
>         'allow_self_signed' => true
>       )
>     );
>     $mail->SMTPSecure = 'ssl';
>     $mail->Port = 465;
155a126
>     //Send Email
158,162c129,154
<         
<    $nullFile =  implode($_FILES['uploadedFile']);
< if($nullFile != "40"){
<     if (isset($_FILES['uploadedFile']) && $_FILES['uploadedFile']['error'] === UPLOAD_ERR_OK)
<     {
---
>     //Recipients
>     $mail->addAddress($email);
> 
> 
>     $mail->isHTML(true);
>     $mail->Subject = $subject;
>     $mail->Body    = $message;
> 
>     $mail->send();
>     $_SESSION['message'] = 'Message has been sent';
>     // header("location: form.php");
>   } catch (Exception $e) {
>     $_SESSION['message'] = 'Message could not be sent. Mailer Error: ' . $mail->ErrorInfo;
>   }
> 
> 
>   // end of sending email
> 
> 
> 
> 
> 
> 
>   $nullFile =  implode($_FILES['uploadedFile']);
>   if ($nullFile != "40") {
>     if (isset($_FILES['uploadedFile']) && $_FILES['uploadedFile']['error'] === UPLOAD_ERR_OK) {
166c158
<   
---
> 
171c163
<   
---
> 
173,175c165,167
<     //   $newFileName = md5(time() . $fileName) . '.' . $fileExtension;
<     $newFileName = $jono .'.'. $fileName . '.' . $fileExtension;
<   
---
>       //   $newFileName = md5(time() . $fileName) . '.' . $fileExtension;
>       $newFileName = $jono . '.' . $fileName . '.' . $fileExtension;
> 
177,180c169,171
<       $allowedfileExtensions = array('jpg', 'gif', 'png', 'zip', 'txt', 'xls', 'doc' , 'pdf');
<   
<       if (in_array($fileExtension, $allowedfileExtensions))
<       {
---
>       $allowedfileExtensions = array('jpg', 'gif', 'png', 'zip', 'txt', 'xls', 'doc', 'pdf');
> 
>       if (in_array($fileExtension, $allowedfileExtensions)) {
184,190c175,178
<   
<         if(move_uploaded_file($fileTmpPath,$dest_path)) 
<         {
<           $message ='File is successfully uploaded.';
<         }
<         else 
<         {
---
> 
>         if (move_uploaded_file($fileTmpPath, $dest_path)) {
>           $message = 'File is successfully uploaded.';
>         } else {
193,195c181
<       }
<       else
<       {
---
>       } else {
198,200c184
<     }
<     else
<     {
---
>     } else {
204,206c188
<         
< }
< else {
---
>   } else {
208c190
< }
---
>   }
210,250d191
<        
<           
<           
< 
< 
<             
<             //  end upload files
<              
< 
<             $jo_no=date("ym-dH-is");
<             $year= date("Y");
<             $month= date("M");
<             // $jo_no="sdfsd";
< 
<            $datenow = date("Y-m-d-H-i");
< 
<             $requestto = $_POST['femmis'];
<             $category = $_POST['category'];
<           
<             $start= $_POST['start'];
<             $end = $_POST['finish'];
<             $request=$_POST['request'];
<             // $bldg=$_POST['building'];
<             
< 
<           
<             $terms=$_POST['terms'];
<        
<             // if ($con->connect_error) {
<             //     die("Connection failed: " . $con->connect_error);
<             //   }        
<             if (!empty($requestto && $category ))
<             //if($itemname!="" OR $descrp!="" OR $usein!="")
<             {
< $email1=$_SESSION['email'];
< $sql = "insert into request (date_filled,status,status2,ticket_no,requestor,email,department,request_to, 	request_category ,request_details,perform_by,reqstart_date ,reqfinish_date,approving_head,accept_termsandconddition,month,year,attachment) 
<         values('$datenow','For approval of $headname','head','$jo_no','$user_name','$email1','$user_dept','$requestto',' $category','$request','To be assign by Admin','$start','$end','$headname','$terms','$month','$year','$dest_path')";
<        $results = mysqli_query($con,$sql);
< if($results){
<     echo "<script>alert('Thank you! Your request has been sent.') </script>";
<     echo "<script> location.href='allrequest.php'; </script>";
252,254d192
< }
< else{
<     echo "<script>alert('error') </script>";
256,257d193
< }
<        ?>
259d194
<     <?php
261d195
<  }
263,265d196
< else{
<     
<    echo "<script>alert('Please complete fields.') </script>";
267c198,204
<    // allert message!
---
>   //  end upload files
> 
> 
>   $jo_no = date("ym-dH-is");
>   $year = date("Y");
>   $month = date("M");
>   // $jo_no="sdfsd";
269,270c206
<    ?>
<    <?php    
---
>   $datenow = date("Y-m-d-H-i");
272c208,234
<     }          
---
>   $requestto = $_POST['femmis'];
>   $category = $_POST['category'];
> 
>   $start = $_POST['start'];
>   $end = $_POST['finish'];
>   $request = $_POST['request'];
>   // $bldg=$_POST['building'];
> 
> 
> 
>   $terms = $_POST['terms'];
> 
>   // if ($con->connect_error) {
>   //     die("Connection failed: " . $con->connect_error);
>   //   }        
>   if (!empty($requestto && $category))
>   //if($itemname!="" OR $descrp!="" OR $usein!="")
>   {
>     $email1 = $_SESSION['email'];
>     $sql = "insert into request (date_filled,status,status2,ticket_no,requestor,email,department,request_to, 	request_category ,request_details,perform_by,reqstart_date ,reqfinish_date,approving_head,accept_termsandconddition,month,year,attachment) 
>         values('$datenow','For approval of $headname','head','$jo_no','$user_name','$email1','$user_dept','$requestto',' $category','$request','To be assign by Admin','$start','$end','$headname','$terms','$month','$year','$dest_path')";
>     $results = mysqli_query($con, $sql);
>     if ($results) {
>       echo "<script>alert('Thank you! Your request has been sent.') </script>";
>       echo "<script> location.href='allrequest.php'; </script>";
>     } else {
>       echo "<script>alert('error') </script>";
274,275c236,253
<     
<     ?>
---
> ?>
> 
>   <?php
> 
>   } else {
> 
>     echo "<script>alert('Please complete fields.') </script>";
> 
>     // allert message!
> 
>   ?>
> <?php
> 
>   }
> }
> 
> ?>
> 
277d254
<     
279c256
<     
---
> 
283a261
> 
285,288c263,269
<     <meta charset="UTF-8">
<     <meta http-equiv="X-UA-Compatible" content="IE=edge">
<     <meta name="viewport" content="width=device-width, initial-scale=1.0">
<     <title>FEM MIS Helpdesk</title>
---
>   <meta charset="UTF-8">
>   <meta http-equiv="X-UA-Compatible" content="IE=edge">
>   <meta name="viewport" content="width=device-width, initial-scale=1.0">
>   <title>Helpdesk</title>
> 
> 
> 
291c272,274
<     
---
>   <!-- font awesome -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
>   <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
294,298d276
<     <!-- font awesome -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
<     <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
<     
<     
300,301c278,279
<      <!-- tailwind play cdn -->
<     <script src="https://cdn.tailwindcss.com"></script>
---
>   <!-- tailwind play cdn -->
>   <script src="https://cdn.tailwindcss.com"></script>
303,307c281,285
<      <!-- from flowbite cdn -->
<     <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
<     <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
< <!-- Script for jquery -->
<     <script src="node_modules/jquery/dist/jquery.min.js"></script>
---
>   <!-- from flowbite cdn -->
>   <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
>   <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
>   <!-- Script for jquery -->
>   <script src="node_modules/jquery/dist/jquery.min.js"></script>
310,311c288,289
<     <link rel="shortcut icon" href="resources/img/helpdesk.png">
<     <link rel="stylesheet" href="css/style.css" />
---
>   <link rel="shortcut icon" href="resources/img/helpdesk.png">
>   <link rel="stylesheet" href="css/style.css" />
314,315c292,293
<     <!-- darkmode -->
<     <script>
---
>   <!-- darkmode -->
>   <script>
318c296
<         document.documentElement.classList.add('dark');
---
>       document.documentElement.classList.add('dark');
320c298
<         document.documentElement.classList.remove('dark')
---
>       document.documentElement.classList.remove('dark')
322,326c300
< 
<   
< 
< 
<     </script>
---
>   </script>
332c306
< <body  onload=navFuntion() class=" static  bg-white dark:bg-gray-900"  >
---
> <body onload=navFuntion() class=" static  bg-white dark:bg-gray-900">
334,335c308,309
<     <!-- nav -->
<     <?php require_once 'nav.php';?>
---
>   <!-- nav -->
>   <?php require_once 'nav.php'; ?>
339c313
< <!-- main -->
---
>   <!-- main -->
345c319
< <div class="  flex mt-16   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50 ">
---
>   <div class="  flex mt-16   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50 ">
349c323
< <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order :  <span class="text-blue-600 dark:text-blue-500">Form</span></h1>
---
>     <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order : <span class="text-blue-600 dark:text-blue-500">Form</span></h1>
354c328
< <!-- 
---
>     <!-- 
356,357c330,331
< <form    method="POST" accept-charset="utf-8" enctype="multipart/form-data">
<     <div class=" grid gap-6 mb-6 md:grid-cols-2">
---
>     <form method="POST" accept-charset="utf-8" enctype="multipart/form-data">
>       <div class=" grid gap-6 mb-6 md:grid-cols-2">
362,363c336,337
<             <label for="femmis" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" >Request to </label>
<             <select name="femmis" id="femmis" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"  required="">
---
>           <label for="femmis" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Request to </label>
>           <select name="femmis" id="femmis" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required="">
366,373c340,347
<             <option value="mis">MIS: Management Information System</option>
<             
<          </select>
<          </div>
< 
<          <div>
<             <label for="category" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Category <a href="#" class="text-blue-600 hover:underline dark:text-blue-500" ></a></label>
<             <!-- <label for="remember" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-400" data-modal-toggle="defaultModal">I agree with the <a href="#" class="text-blue-600 hover:underline dark:text-blue-500">terms and conditions</a>.</label> -->
---
>             <!-- <option value="mis">ICT: Information and Communication Technolgy</option> -->
> 
>           </select>
>         </div>
> 
>         <div>
>           <label for="category" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Category <a href="#" class="text-blue-600 hover:underline dark:text-blue-500"></a></label>
>           <!-- <label for="remember" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-400" data-modal-toggle="defaultModal">I agree with the <a href="#" class="text-blue-600 hover:underline dark:text-blue-500">terms and conditions</a>.</label> -->
375c349
<             <select name="category" id="type" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"  required="">
---
>           <select name="category" id="type" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required="">
391c365
<             
---
> 
393,394c367,368
<             
<             </select>      
---
> 
>           </select>
399,402c373,376
<             <label for="head" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Approving Head </label>
<             <select  name="head" id="head" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<                
<          <?php
---
>           <label for="head" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Approving Head </label>
>           <select name="head" id="head" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
> 
>             <?php
404,422c378,388
<                $sql1 = "Select * FROM `user` WHERE `department` = '$user_dept' AND `level`='head' ";
<                $result = mysqli_query($con, $sql1);
<                 while($list=mysqli_fetch_assoc($result))
<                 {
<                     $userId=$list["id"];
<                     $headName=$list["name"];
<                      ?>
< 
<                  <!-- <option selected  disabled class="text-gray-900">Choose Head:</option>  -->
<                 <option value="<?php echo  $userId; ?>"> <?php echo  $headName; ?>  </option> <?php 
<                     
<                 }    
< 
<                 ?>
<         
<          </select>
< 
<     
<          </div>
---
>             $sql1 = "Select * FROM `user` WHERE `department` = '$user_dept' AND `level`='head' ";
>             $result = mysqli_query($con, $sql1);
>             while ($list = mysqli_fetch_assoc($result)) {
>               $userId = $list["id"];
>               $headName = $list["name"];
>             ?>
> 
>               <!-- <option selected  disabled class="text-gray-900">Choose Head:</option>  -->
>               <option value="<?php echo  $userId; ?>"> <?php echo  $headName; ?> </option> <?php
> 
>                                                                                           }
423a390
>                                                                                             ?>
424a392
>           </select>
427,432c395,405
<          <div>
<          <label for="schedule" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Request Schedule  and Location</label>
<          
<          
<             <!-- <div date-rangepicker="" class="flex items-center"> -->
<                 <div class="flex items-center">
---
>         </div>
> 
> 
> 
> 
>         <div>
>           <label for="schedule" class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300">Request Schedule and Location</label>
> 
> 
>           <!-- <div date-rangepicker="" class="flex items-center"> -->
>           <div class="flex items-center">
434,437c407,412
<                 <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
<                     <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
<                 </div>
<                 <input onchange="testDate()" id="datestart" name="start" type="date" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Request date start"  required="">
---
>               <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
>                 <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
>                   <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
>                 </svg>
>               </div>
>               <input onchange="testDate()" id="datestart" name="start" type="date" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Request date start" required="">
441,444c416,421
<                 <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
<                     <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path></svg>
<                 </div>
<                 <input id="datefinish" onchange = "endDate()" name="finish" type="date" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Request date finish"  required="">
---
>               <div class="flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none">
>                 <svg aria-hidden="true" class="w-5 h-5 text-gray-500 dark:text-gray-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
>                   <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
>                 </svg>
>               </div>
>               <input id="datefinish" onchange="endDate()" name="finish" type="date" class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 datepicker-input" placeholder="Request date finish" required="">
469,470c446,447
<             
<             </div>  
---
> 
>           </div>
472c449
<     </div>
---
>       </div>
476c453
<     <div class="mb-6">
---
>       <div class="mb-6">
478,479c455,457
<         <input name="request" autocomplete="off"  type="text" id="request" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Details" required="">
<     </div> 
---
>         <input name="request" autocomplete="off" type="text" id="request" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Details" required="">
>       </div>
> 
480a459,463
>       <div class="mb-6">
>         <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" for="uploadedFile">Upload file</label>
>         <input name="uploadedFile" value="upload" class="block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400" id="uploadedFile" type="file">
> 
>       </div>
482,484d464
< <div class="mb-6">
< <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300" for="uploadedFile">Upload file</label>
< <input name="uploadedFile" value="upload" class="block w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 cursor-pointer dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400" id="uploadedFile" type="file" >
486d465
< </div>
489a469,472
>       <div class="flex items-center mb-4">
>         <input required="" id="link-checkbox" type="checkbox" value="Yes I agree on the terms and conditions." name="terms" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600" required="">
>         <label for="link-checkbox" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">I agree and understand the <a href="#" class="modal-open  text-blue-600 dark:text-blue-500 hover:underline">terms and conditions.</a>(PLEASE CLICK TERMS AND CONDITION FOR MORE DETAILS.)</label>
>       </div>
492,495c475
< <div class="flex items-center mb-4">
<     <input required="" id="link-checkbox" type="checkbox" value="Yes I agree on the terms and conditions." name="terms" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600" required="">
<     <label for="link-checkbox" class="ml-2 text-sm font-medium text-gray-900 dark:text-gray-300">I agree and understand the <a href="#" class="modal-open  text-blue-600 dark:text-blue-500 hover:underline">terms and conditions.</a>(PLEASE CLICK TERMS AND CONDITION FOR MORE DETAILS.)</label>
< </div>
---
>       <button name="submit" type="submit" class="mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Submit</button>
496a477
>       <a href="form.php" type="button" class="text-white bg-red-400 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-400 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-red-400 dark:hover:bg-red-700 dark:focus:ring-red-800">Cancel</a>
498,500c479
<     <button name="submit" type="submit" class="mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Submit</button>
<    
<     <a href="form.php"  type="button"class="text-white bg-red-400 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-400 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-red-400 dark:hover:bg-red-700 dark:focus:ring-red-800">Cancel</a>
---
>     </form>
502d480
< </form>
504a483,485
>   </div>
>   <!-- end of main -->
> 
506,507d486
< </div>
< <!-- end of main -->
526a506
>   <!-- modal for terms -->
527a508
>   <button class="hidden modal-open bg-transparent border border-gray-500 hover:border-indigo-500 text-gray-500 hover:text-indigo-500 font-bold py-2 px-4 rounded-full">Open Modal</button>
529,532d509
< <!-- modal for terms -->
<  
< <button class="hidden modal-open bg-transparent border border-gray-500 hover:border-indigo-500 text-gray-500 hover:text-indigo-500 font-bold py-2 px-4 rounded-full">Open Modal</button>
<   
534c511
<   <div  class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center">
---
>   <div class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center">
536c513
<     
---
> 
538c515
<       
---
> 
559,560c536,537
<         <p class="text-justify">Welcome to Helpdesk System. Were so glad youre here. Please read the following terms before using our Services; you will be agreeing to, 
<         and will be bound by them through the continued use of our Services.</p>
---
>         <p class="text-justify">Welcome to Helpdesk System. Were so glad youre here. Please read the following terms before using our Services; you will be agreeing to,
>           and will be bound by them through the continued use of our Services.</p>
565,567c542,544
<         
<         <p>2. For the relayout must be attached the approve layout plan and request must 
<             be file in advance minimum of 3 days including approval time.
---
> 
>         <p>2. For the relayout must be attached the approve layout plan and request must
>           be file in advance minimum of 3 days including approval time.
577c554
<         
---
> 
599c576
<   
---
> 
606,608c583,585
<       openmodal[i].addEventListener('click', function(event){
<     	event.preventDefault()
<     	toggleModal()
---
>       openmodal[i].addEventListener('click', function(event) {
>         event.preventDefault()
>         toggleModal()
611c588
<     
---
> 
614c591
<     
---
> 
619c596
<     
---
> 
624c601
<     	isEscape = (evt.key === "Escape" || evt.key === "Esc")
---
>         isEscape = (evt.key === "Escape" || evt.key === "Esc")
626c603
<     	isEscape = (evt.keyCode === 27)
---
>         isEscape = (evt.keyCode === 27)
629c606
<     	toggleModal()
---
>         toggleModal()
632c609,610
<     function toggleModal () {
---
> 
>     function toggleModal() {
639,642d616
< 
< 
< 
<  
645,647c619
< <!-- end of modal for terms and condition -->
< 
< 
---
>   <!-- end of modal for terms and condition -->
666d637
< <!-- datetime picker js -->
668,669d638
< <script src="node_modules/flowbite/dist/datepicker.js"></script>
<     
671,672c640
< <!-- <script src="../path/to/flowbite/dist/flowbite.js"></script> -->
< <script src="node_modules/flowbite/dist/flowbite.js"></script>
---
>   <!-- datetime picker js -->
673a642
>   <script src="node_modules/flowbite/dist/datepicker.js"></script>
675a645,646
>   <!-- <script src="../path/to/flowbite/dist/flowbite.js"></script> -->
>   <script src="node_modules/flowbite/dist/flowbite.js"></script>
678d648
< <!-- script for option category -->
680,691d649
< <script>
<      $('#femmis').change(function() {
<   var $options = $('#type')
<   .val('')
<   .find('option')
<   .show();
<   if (this.value != '0')
<   $options
<   .not('[data-val="' + this.value + '"], [data-val=""]')
<   .hide();
<   $('#type option:eq(0)').prop('selected', true)
<   // console.log("asd");
693d650
<   })
695,707c652
<   //blocking of error on refresh page
<   var $options = $('#type')
<   .val('')
<   .find('option')
<   .show();
<   if (this.value != '0')
<   $options
<   .not('[data-val="' + this.value + '"], [data-val=""]')
<   .hide();
<   $('#type option:eq(0)').prop('selected', true)
< 
< 
< //   end of script for category
---
>   <!-- script for option category -->
708a654,678
>   <script>
>     $('#femmis').change(function() {
>       var $options = $('#type')
>         .val('')
>         .find('option')
>         .show();
>       if (this.value != '0')
>         $options
>         .not('[data-val="' + this.value + '"], [data-val=""]')
>         .hide();
>       $('#type option:eq(0)').prop('selected', true)
>       // console.log("asd");
> 
>     })
> 
>     //blocking of error on refresh page
>     var $options = $('#type')
>       .val('')
>       .find('option')
>       .show();
>     if (this.value != '0')
>       $options
>       .not('[data-val="' + this.value + '"], [data-val=""]')
>       .hide();
>     $('#type option:eq(0)').prop('selected', true)
711c681,682
< </script>
---
>     //   end of script for category
>   </script>
720,723c691,694
< <!-- darkmode script -->
< <script>  
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
---
>   <!-- darkmode script -->
>   <script>
>     var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>     var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
725,730c696,701
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
---
>     // Change the icons inside the button based on previous settings
>     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>       themeToggleLightIcon.classList.remove('hidden');
>     } else {
>       themeToggleDarkIcon.classList.remove('hidden');
>     }
732c703
< var themeToggleBtn = document.getElementById('theme-toggle');
---
>     var themeToggleBtn = document.getElementById('theme-toggle');
734c705
< themeToggleBtn.addEventListener('click', function() {
---
>     themeToggleBtn.addEventListener('click', function() {
736,738c707,709
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
---
>       // toggle icons inside button
>       themeToggleDarkIcon.classList.toggle('hidden');
>       themeToggleLightIcon.classList.toggle('hidden');
740,741c711,712
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
---
>       // if set via local storage previously
>       if (localStorage.getItem('color-theme')) {
743,744c714,715
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
746,747c717,718
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
750,751c721,722
<     // if NOT set via local storage previously
<     } else {
---
>         // if NOT set via local storage previously
>       } else {
753,754c724,725
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
756,757c727,728
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
759,764c730
<     }
<     
< });
< 
< </script>
< 
---
>       }
765a732,733
>     });
>   </script>
768,773d735
< <!-- script for valid request date schedule -->
< <!-- <input type="date" id="birthdaytime" onchange="testDate()" name="birthdaytime"> -->
< <script>
< var setdate2;
< function testDate(){
<  var chosendate =  document.getElementById("datestart").value;
775,778d736
<  
< //  console.log(chosendate)
< const x = new Date();
< const y = new Date(chosendate);
780,786c738,741
< if(x<y){
< console.log("Valid");
< var monthNumber = new Date().getMonth()+1;
< const asf = new Date(chosendate);
<  asf.setDate(asf.getDate() + 1);
<  var setdate = asf.getFullYear()+"-"+monthNumber+"-"+asf.getDate();
<  document.getElementById("datefinish").value = setdate;
---
>   <!-- script for valid request date schedule -->
>   <!-- <input type="date" id="birthdaytime" onchange="testDate()" name="birthdaytime"> -->
>   <script>
>     var setdate2;
788,789c743,744
<  setdate2 = asf.getFullYear()+"-"+monthNumber+"-"+asf.getDate();
<  console.log(setdate)
---
>     function testDate() {
>       var chosendate = document.getElementById("datestart").value;
792,795c747,749
< // console.log(x)
< }
< else{
<   alert("Sorry your request date is not accepted!")
---
>       //  console.log(chosendate)
>       const x = new Date();
>       const y = new Date(chosendate);
797,808c751,757
<   const z = new Date();
< var monthNumber = new Date().getMonth()+1
< z.setDate(z.getDate() + 1);
<   console.log(z);
<   var setdate = z.getFullYear()+"-"+monthNumber+"-"+z.getDate();
<  document.getElementById("datestart").value = setdate;
<  console.log(setdate)
< 
<  const asf2 = new Date(setdate);
<  asf2.setDate(asf2.getDate() + 2);
<  setdate2 = asf2.getFullYear()+"-"+monthNumber+"-"+asf2.getDate();
<  document.getElementById("datefinish").value = setdate2;
---
>       if (x < y) {
>         console.log("Valid");
>         var monthNumber = new Date().getMonth() + 1;
>         const asf = new Date(chosendate);
>         asf.setDate(asf.getDate() + 1);
>         var setdate = asf.getFullYear() + "-" + monthNumber + "-" + asf.getDate();
>         document.getElementById("datefinish").value = setdate;
810,815c759,760
< }
< }
< 
< function endDate(){
<     console.log(setdate2);
<     
---
>         setdate2 = asf.getFullYear() + "-" + monthNumber + "-" + asf.getDate();
>         console.log(setdate)
817,818d761
<     var chosendate3 =  document.getElementById("datefinish").value;
<     console.log(chosendate3);
820,821c763,765
<     const x = new Date(setdate2);
< const y = new Date(chosendate3);
---
>         // console.log(x)
>       } else {
>         alert("Sorry your request date is not accepted!")
823c767,778
< if(x<y){
---
>         const z = new Date();
>         var monthNumber = new Date().getMonth() + 1
>         z.setDate(z.getDate() + 1);
>         console.log(z);
>         var setdate = z.getFullYear() + "-" + monthNumber + "-" + z.getDate();
>         document.getElementById("datestart").value = setdate;
>         console.log(setdate)
> 
>         const asf2 = new Date(setdate);
>         asf2.setDate(asf2.getDate() + 2);
>         setdate2 = asf2.getFullYear() + "-" + monthNumber + "-" + asf2.getDate();
>         document.getElementById("datefinish").value = setdate2;
824a780,781
>       }
>     }
826,830c783,784
< // console.log(x)
< }
< else{
<   alert("Sorry your request date is not accepted!")
<   document.getElementById("datefinish").value = setdate2;
---
>     function endDate() {
>       console.log(setdate2);
832,833d785
< }
< }
834a787,788
>       var chosendate3 = document.getElementById("datefinish").value;
>       console.log(chosendate3);
835a790,791
>       const x = new Date(setdate2);
>       const y = new Date(chosendate3);
837c793
< // active page highlight
---
>       if (x < y) {
839,843d794
< var activepage = document.getElementById("joform");
<  activepage.classList.remove("text-gray-700");
<   activepage.classList.add("text-blue-700");
<   activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
844a796,799
>         // console.log(x)
>       } else {
>         alert("Sorry your request date is not accepted!")
>         document.getElementById("datefinish").value = setdate2;
845a801,802
>       }
>     }
848a806
>     // active page highlight
850c808,813
< </script>
---
>     var activepage = document.getElementById("joform");
>     activepage.classList.remove("text-gray-700");
>     activepage.classList.add("text-blue-700");
>     activepage.classList.remove("dark:text-gray-400");
>     activepage.classList.add("dark:text-white");
>   </script>
862a826
> 
Only in helpdeskts2: .git
diff helpdesk/head_approval.php helpdeskts2/head_approval.php
1c1
< <?php 
---
> <?php
18c18
< ini_set( "session.gc_maxlifetime", $timeout );
---
> ini_set("session.gc_maxlifetime", $timeout);
22c22,24
< ini_set( "session.cookie_lifetime", $timeout );
---
> ini_set("session.cookie_lifetime", $timeout);
> 
> // session_start();
24,25d25
<   // session_start();
<   
27,28c27,28
< $url1=$_SERVER['REQUEST_URI'];
<     header("Refresh: 500; URL=$url1");
---
> $url1 = $_SERVER['REQUEST_URI'];
> header("Refresh: 500; URL=$url1");
31,33c31
< if(isset( $_COOKIE[ $s_name ] )) {
< 
<     setcookie( $s_name, $_COOKIE[ $s_name ], time() + $timeout, '/' );
---
> if (isset($_COOKIE[$s_name])) {
35,38c33,34
<     
< }
< 
< else
---
>   setcookie($s_name, $_COOKIE[$s_name], time() + $timeout, '/');
> } else
40c36
<     echo "Session is expired.<br/>";
---
>   echo "Session is expired.<br/>";
50,52c46,49
<     if(!isset($_SESSION['connected'])){
<       header("location: index.php");
<     }
---
> if (!isset($_SESSION['connected'])) {
>   header("location: index.php");
> }
> 
57d53
<         
59c55
< include ("includes/connect.php");
---
> include("includes/connect.php");
61c57
< $user_level=$_SESSION['level'];
---
> $user_level = $_SESSION['level'];
63c59
< if(isset($_POST['approveRequest'])){
---
> if (isset($_POST['approveRequest'])) {
69c65,72
<      $results = mysqli_query($con,$sql);
---
>   $results = mysqli_query($con, $sql);
> 
> 
>   // $email = $_POST['email'];
> 
>   $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
>   $result2 = mysqli_query($con, $sql2);
>   while ($list = mysqli_fetch_assoc($result2)) {
72c75,77
<      // $email = $_POST['email'];
---
>     $account = $list["email"];
>     $accountpass = $list["password"];
>   }
74,90c79,83
<      $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
<         $result2 = mysqli_query($con, $sql2);
<          while($list=mysqli_fetch_assoc($result2))
<          {
< 
<           
<              $account=$list["email"];
<              $accountpass=$list["password"];
< 
<         
<             }
<              
< $email='j.nemedez@glory.com.ph';
< $subject ='JO Request for Admin Approval'." ";
< $message = 'Hi '." ". 'Admin' .' You have pending JO for your Approval.<br/>'.
< 'Please login to http://192.168.5.246/helpdesk.com <br/>'.
< 'This is a system generated email. Please do not reply to this message.';
---
>   $email = 'j.nemedez@glory.com.ph';
>   $subject = 'JO Request for Final Approval' . " ";
>   $message = 'Hi ' . " " . 'Admin' . ' You have pending JO for your Approval.<br/>' .
>     'Please login to http://192.168.5.246/helpdesk.com <br/>' .
>     'This is a system generated email. Please do not reply to this message.';
94,95c87,88
< $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
< try {
---
>   $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
>   try {
103c96
<         'ssl' => array(
---
>       'ssl' => array(
107,110c100,103
<         )
<     );                         
<     $mail->SMTPSecure = 'ssl';                           
<     $mail->Port = 465;                                   
---
>       )
>     );
>     $mail->SMTPSecure = 'ssl';
>     $mail->Port = 465;
114c107
<     
---
> 
116c109
<     $mail->addAddress($email);              
---
>     $mail->addAddress($email);
118c111
<     
---
> 
124c117
<    
---
> 
126c119
<     $mail->isHTML(true);                                  
---
>     $mail->isHTML(true);
133,136c126,128
< } catch (Exception $e) {
<     $_SESSION['message'] = 'Message could not be sent. Mailer Error: '.$mail->ErrorInfo;
< }
< 
---
>   } catch (Exception $e) {
>     $_SESSION['message'] = 'Message could not be sent. Mailer Error: ' . $mail->ErrorInfo;
>   }
138d129
< // end of sending email
139a131
>   // end of sending email
142d133
<   }
143a135
> }
149,155d140
<   if(isset($_POST['dissapproveRequest'])){
<     $requestID = $_POST['requestID'];
<     $remarks = $_POST['remarks'];
<     $date = date("ym-dH-is");
<     $username = $_SESSION['name'];
<     $sql = "UPDATE `request` SET `status2`='disapproved',`approving_head`='$username',`head_approval_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
<        $results = mysqli_query($con,$sql);
156a142,148
> if (isset($_POST['dissapproveRequest'])) {
>   $requestID = $_POST['requestID'];
>   $remarks = $_POST['remarks'];
>   $date = date("ym-dH-is");
>   $username = $_SESSION['name'];
>   $sql = "UPDATE `request` SET `status2`='disapproved',`approving_head`='$username',`head_approval_date`='$date',`head_remarks`='$remarks' WHERE `id` = '$requestID';";
>   $results = mysqli_query($con, $sql);
160,163d151
<        $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
<         $result2 = mysqli_query($con, $sql2);
<          while($list=mysqli_fetch_assoc($result2))
<          {
165,167c153,155
<           
<              $account=$list["email"];
<              $accountpass=$list["password"];
---
>   $sql2 = "Select * FROM `sender` WHERE `id` = '1'";
>   $result2 = mysqli_query($con, $sql2);
>   while ($list = mysqli_fetch_assoc($result2)) {
169,170d156
<         
<             }
171a158,160
>     $account = $list["email"];
>     $accountpass = $list["password"];
>   }
173,175d161
<         // $email = $_POST['email'];
< $jomail=$_POST['jo_email'];
< $jonumber=$_POST['jo_num'];
177,181c163,171
< $email= $jomail;
< $subject ='Disapprove JO from Department Head '. 'JO No. '. $jonumber." ";
< $message = 'Hi '. ' You have disapproved JO request. '.$jonumber.'<br/>'.
< 'Please login to http://192.168.5.246/helpdesk.com <br/>'.
< 'This is a system generated email. Please do not reply to this message.';
---
>   // $email = $_POST['email'];
>   $jomail = $_POST['jo_email'];
>   $jonumber = $_POST['jo_num'];
> 
>   $email = $jomail;
>   $subject = 'Disapprove JO from Department Head ' . 'JO No. ' . $jonumber . " ";
>   $message = 'Hi ' . ' You have disapproved JO request. ' . $jonumber . '<br/>' .
>     'Please login to http://192.168.5.246/helpdesk.com <br/>' .
>     'This is a system generated email. Please do not reply to this message.';
185,186c175,176
< $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
< try {
---
>   $mail = new PHPMailer(true);                              // Passing `true` enables exceptions
>   try {
194c184
<         'ssl' => array(
---
>       'ssl' => array(
198,201c188,191
<         )
<     );                         
<     $mail->SMTPSecure = 'ssl';                           
<     $mail->Port = 465;                                   
---
>       )
>     );
>     $mail->SMTPSecure = 'ssl';
>     $mail->Port = 465;
205c195
<     
---
> 
207c197
<     $mail->addAddress($email);              
---
>     $mail->addAddress($email);
209c199
<     
---
> 
215c205
<    
---
> 
217c207
<     $mail->isHTML(true);                                  
---
>     $mail->isHTML(true);
224,226c214,216
< } catch (Exception $e) {
<     $_SESSION['message'] = 'Message could not be sent. Mailer Error: '.$mail->ErrorInfo;
< }
---
>   } catch (Exception $e) {
>     $_SESSION['message'] = 'Message could not be sent. Mailer Error: ' . $mail->ErrorInfo;
>   }
229c219
< // end of sending email
---
>   // end of sending email
232,233c222,223
<   
<     }
---
> 
> }
259a250
> 
261,264c252,256
<     <meta charset="UTF-8">
<     <meta http-equiv="X-UA-Compatible" content="IE=edge">
<     <meta name="viewport" content="width=device-width, initial-scale=1.0">
<     <title>FEM MIS Helpdesk</title>
---
>   <meta charset="UTF-8">
>   <meta http-equiv="X-UA-Compatible" content="IE=edge">
>   <meta name="viewport" content="width=device-width, initial-scale=1.0">
>   <title>Helpdesk</title>
> 
265a258,260
>   <!-- font awesome -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
>   <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
267,270d261
<     <!-- font awesome -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
<     <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
<     
272,274c263,265
<      <!-- tailwind play cdn -->
<     <!-- <script src="https://cdn.tailwindcss.com"></script> -->
<     <script src="./cdn_tailwindcss.js"></script>
---
>   <!-- tailwind play cdn -->
>   <!-- <script src="https://cdn.tailwindcss.com"></script> -->
>   <script src="./cdn_tailwindcss.js"></script>
276,278c267,269
<      <!-- from flowbite cdn -->
<     <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
<     <link rel="stylesheet" href="./node_modules/flowbite/dist/flowbite.min.css" />
---
>   <!-- from flowbite cdn -->
>   <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
>   <link rel="stylesheet" href="./node_modules/flowbite/dist/flowbite.min.css" />
280,281c271,272
<     <link rel="shortcut icon" href="resources/img/helpdesk.png">
<     <link rel="stylesheet" href="css/style.css" />
---
>   <link rel="shortcut icon" href="resources/img/helpdesk.png">
>   <link rel="stylesheet" href="css/style.css" />
283,285c274,276
<     <!-- tailwind element -->
<     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
< <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
---
>   <!-- tailwind element -->
>   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
>   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
287,288c278,279
< <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" /> -->
< <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
---
>   <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" /> -->
>   <link rel="stylesheet" href="./node_modules/tw-elements/dist/css/index.min.css" />
292,293c283,284
<     <!-- darkmode -->
<     <script>
---
>   <!-- darkmode -->
>   <script>
296c287
<         document.documentElement.classList.add('dark');
---
>       document.documentElement.classList.add('dark');
298c289
<         document.documentElement.classList.remove('dark')
---
>       document.documentElement.classList.remove('dark')
300c291
<     </script>
---
>   </script>
308d298
< <body  onload=navFuntion() class="static  bg-white dark:bg-gray-900"  >
310,311c300,305
<     <!-- nav -->
<     <?php require_once 'nav.php';?>
---
> <body onload=navFuntion() class="static  bg-white dark:bg-gray-900">
> 
>   <!-- nav -->
>   <?php require_once 'nav.php'; ?>
> 
> 
313c307,308
<    
---
>   <div class="   flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
>     <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
315,316c310
<     <div class="   flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50  ">
< <!-- <div class="  fixed top-20 left-10 right-5    flex flex-col pt-6 px-2 sm:px-4 py-2.5  "> -->
---
>     <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
318d311
<   <div class="overflow-x-auto sm:-mx-6 lg:-mx-8  ">
319a313,315
>       <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
>         <div class="overflow-hidden">
>           <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order : <span class="text-blue-600 dark:text-blue-500">For Approval of Department Head</span></h1>
321,330c317,322
<     <div class="py-4 inline-block min-w-full sm:px-6 lg:px-8">
<       <div class="overflow-hidden">
<       <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">Job Order :  <span class="text-blue-600 dark:text-blue-500">For Approval of Department Head</span></h1>
<        
<         <table class="min-w-full text-center">
<           <thead class="border-b bg-gray-800">
<             <tr>
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<                No.
<               </th>
---
>           <table class="min-w-full text-center">
>             <thead class="border-b bg-gray-800">
>               <tr>
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   No.
>                 </th>
332,337c324,329
<               <th scope="col" class="text-sm font-small text-white px-2 py-4">
<               Action
<               </th>
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Status
<               </th>
---
>                 <th scope="col" class="text-sm font-small text-white px-2 py-4">
>                   Action
>                 </th>
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Status
>                 </th>
339,341c331,333
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 JO No.
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   JO No.
>                 </th>
343,345c335,337
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Assign Section
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Assign Section
>                 </th>
347,349c339,341
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Date of Request
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Date of Request
>                 </th>
351,357c343,348
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Requestor
<               </th>
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Department
<               </th>
<              
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Requestor
>                 </th>
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Department
>                 </th>
360d350
<             
363,365d352
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 In-Charge
<               </th>
367,369d353
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Start
<               </th>
370a355,357
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   In-Charge
>                 </th>
372,374c359,361
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Target Date Finish
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Start
>                 </th>
376,378d362
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Attachment
<               </th>
380,382c364,366
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                Category
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Target Date Finish
>                 </th>
383a368,370
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Attachment
>                 </th>
385,387c372,374
<               <th scope="col" class="text-sm font-medium text-white px-2 py-4">
<                 Details
<               </th>
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Category
>                 </th>
389d375
<              
391c377,383
<               <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
---
>                 <th scope="col" class="text-sm font-medium text-white px-2 py-4">
>                   Details
>                 </th>
> 
> 
> 
>                 <!-- <th scope="col" class="text-sm font-medium text-white px-2 py-4">
395,396c387,388
<             </tr>
<           </thead class="border-b">
---
>               </tr>
>             </thead class="border-b">
400d391
<               
402d392
<           <tbody>
403a394
>             <tbody>
407d397
<           
409,410d398
<           
< <!--  start calling record on db -->
412d399
< <?php
414,456d400
< $nname=$_SESSION['name'];
< $llevel=$_SESSION['level'];
< $username=$_SESSION['username'];
< 
< 
<  $a=1;
<                  
<                 // $sql="select * from request where status2='for head approval' and approving_head='$nname'";
<                 // $result = mysqli_query($con,$sql);
<                 // while($row=mysqli_fetch_assoc($result)){
< 
< 
<    $sqlLevel="select level from user where username='$username'";
<     $resultLevel = mysqli_query($con,$sqlLevel);
<     while($field=mysqli_fetch_assoc($resultLevel))
<     {
<         $level=$field["level"];
<         $_SESSION['level'] = $level;  
<        
<     
<     
<        if($_SESSION['level'] == 'admin'){
<           $sql="select * from request where status2='head'";
<           $result = mysqli_query($con,$sql);
<           $counthead = mysqli_num_rows($result); 
<        }
<     
<     
<        else if($_SESSION['level'] == 'head'){
<           $sql="select * from request where status2='head' and approving_head='$nname'";
<           $result = mysqli_query($con,$sql);
<           $counthead = mysqli_num_rows($result);
<        }
<     
<        else{
<     
<        }
<     
<    
<       }
<       while($row=mysqli_fetch_assoc($result)){
<                 
<                   ?>
457a402
>               <!--  start calling record on db -->
458a404
>               <?php
459a406,439
>               $nname = $_SESSION['name'];
>               $llevel = $_SESSION['level'];
>               $username = $_SESSION['username'];
> 
> 
>               $a = 1;
> 
>               // $sql="select * from request where status2='for head approval' and approving_head='$nname'";
>               // $result = mysqli_query($con,$sql);
>               // while($row=mysqli_fetch_assoc($result)){
> 
> 
>               $sqlLevel = "select level from user where username='$username'";
>               $resultLevel = mysqli_query($con, $sqlLevel);
>               while ($field = mysqli_fetch_assoc($resultLevel)) {
>                 $level = $field["level"];
>                 $_SESSION['level'] = $level;
> 
> 
> 
>                 if ($_SESSION['level'] == 'admin') {
>                   $sql = "select * from request where status2='head'";
>                   $result = mysqli_query($con, $sql);
>                   $counthead = mysqli_num_rows($result);
>                 } else if ($_SESSION['level'] == 'head') {
>                   $sql = "select * from request where status2='head' and approving_head='$nname'";
>                   $result = mysqli_query($con, $sql);
>                   $counthead = mysqli_num_rows($result);
>                 } else {
>                 }
>               }
>               while ($row = mysqli_fetch_assoc($result)) {
> 
>               ?>
470,471d449
<               <tr class="bg-white border-b">
<               <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++?></td>
473c451,456
<               <td class="px-6 py-4 text-right">
---
> 
> 
>                 <tr class="bg-white border-b">
>                   <td class="px-6 py-4 whitespace-nowrap text-sm font-small text-gray-900"><?php echo $a++ ?></td>
> 
>                   <td class="px-6 py-4 text-right">
475,476c458,459
<                     <button type="button" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-jonumber="<?php echo $row['ticket_no'];?>" data-bs-id="<?php echo $row['id'];?>" data-bs-email="<?php echo $row['email'];?>">
<                     Approval
---
>                     <button type="button" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-toggle="modal" data-bs-target="#exampleModalCenter" data-bs-jonumber="<?php echo $row['ticket_no']; ?>" data-bs-id="<?php echo $row['id']; ?>" data-bs-email="<?php echo $row['email']; ?>">
>                       Approval
478,492c461,473
<                 </td>
<                 <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
<   <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
<     <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
<       <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
<         <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
<           Approval of JO Number: 
<         </h5>
<         <button type="button"
<           class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline"
<           data-bs-dismiss="modal" aria-label="Close"></button>
<       </div>
<       <form method="POST" action="head_approval.php">
<       <div class="modal-body relative p-4">
<       <div class="mb-6">
---
>                   </td>
>                   <div class="modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto" id="exampleModalCenter" tabindex="-1" aria-labelledby="exampleModalCenterTitle" aria-modal="true" role="dialog">
>                     <div class="modal-dialog modal-dialog-centered relative w-auto pointer-events-none">
>                       <div class="modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current">
>                         <div class="modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md">
>                           <h5 class="text-xl font-medium leading-normal text-gray-800" id="ticketnumbertitle">
>                             Approval of JO Number:
>                           </h5>
>                           <button type="button" class="btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline" data-bs-dismiss="modal" aria-label="Close"></button>
>                         </div>
>                         <form method="POST" action="head_approval.php">
>                           <div class="modal-body relative p-4">
>                             <div class="mb-6">
494,497c475,477
<     <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
<     <input type="text" name="jo_email" id="ticketemail" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<     <input type="text" name="jo_num" id="jonumber" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<     
---
>                               <!-- <label for="default-input" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Remarks</label> -->
>                               <input type="text" name="jo_email" id="ticketemail" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
>                               <input type="text" name="jo_num" id="jonumber" class=" bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
500,502d479
<     <input type="text" name="requestID" id="idInput" class="hidden bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
<     <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your remarks</label>
<     <textarea id="message" name="remarks" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Write your comments here..."></textarea>
504,531c481,483
< </div>
<       </div>
<       <div
<         class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
<        
< 
<         <button type="submit" name="approveRequest"
<           class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1">
<           Approve
<         </button>
<        
<         <button type="submit" name="dissapproveRequest"
<           class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out"
<           data-bs-dismiss="modal">
<           Disapprove
<         </button>
<         
<         
< 
<         <button
<           class="inline-block px-6 py-2.5 bg-red-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-700 active:shadow-lg transition duration-150 ease-in-out ml-1 "data-modal-hide="exampleModalCenter">
<           Cancel
<         </button>
<       </div>
<       </form>
<     </div>
<   </div>
< </div>
---
>                               <input type="text" name="requestID" id="idInput" class="hidden bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
>                               <label for="message" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Your remarks</label>
>                               <textarea id="message" name="remarks" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Write your comments here..."></textarea>
532a485,487
>                             </div>
>                           </div>
>                           <div class="modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md">
534a490,492
>                             <button type="submit" name="approveRequest" class="inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1">
>                               Approve
>                             </button>
535a494,496
>                             <button type="submit" name="dissapproveRequest" class="inline-block px-6 py-2.5 bg-red-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-purple-800 active:shadow-lg transition duration-150 ease-in-out" data-bs-dismiss="modal">
>                               Disapprove
>                             </button>
537,539d497
<               <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['status'];?> 
<               </td>
541d498
<               
542a500,507
>                             <button class="inline-block px-6 py-2.5 bg-red-400 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-red-700 hover:shadow-lg focus:bg-red-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-red-700 active:shadow-lg transition duration-150 ease-in-out ml-1 " data-modal-hide="exampleModalCenter">
>                               Cancel
>                             </button>
>                           </div>
>                         </form>
>                       </div>
>                     </div>
>                   </div>
544,546d508
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['ticket_no'];?> 
<               </td>
548,550d509
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_to'];?> 
<               </td>
552,554d510
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['date_filled'];?> 
<               </td>
556,558d511
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['requestor'];?> 
<               </td>
560,562c513,515
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['department'];?> 
<               </td>
---
>                   <td class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['status']; ?>
>                   </td>
564d516
<              
567,569d518
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['perform_by'];?> 
<               </td>
570a520,522
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['ticket_no']; ?>
>                   </td>
572,574c524,526
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqstart_date'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_to']; ?>
>                   </td>
575a528,530
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['date_filled']; ?>
>                   </td>
577,579c532,538
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['reqfinish_date'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['requestor']; ?>
>                   </td>
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['department']; ?>
>                   </td>
583,596d541
<               <!-- to view pdf -->
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<                 <?php if ($row['attachment'] != null){
<                 ?>
<                 <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment'];?>">View</a>
<                 <?php
<                 } else{
<                   ?>
<                 <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
<                 <?php
<                 }
<                   ?>
<               
<               </td>
597a543,545
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['perform_by']; ?>
>                   </td>
600,602c548,550
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_category'];?> 
<               </td>
---
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqstart_date']; ?>
>                   </td>
604a553,555
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['reqfinish_date']; ?>
>                   </td>
607,609c558,585
<               <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
<               <?php echo $row['request_details'];?> 
<               </td>
---
> 
>                   <!-- to view pdf -->
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php if ($row['attachment'] != null) {
>                     ?>
>                       <a class="text-sm text-blue-700 font-light px-6 py-4 whitespace-nowrap" href="<?php echo $row['attachment']; ?>">View</a>
>                     <?php
>                     } else {
>                     ?>
>                       <a class="text-sm text-red-700 font-light px-6 py-4 whitespace-nowrap">Empty...</a>
>                     <?php
>                     }
>                     ?>
> 
>                   </td>
> 
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_category']; ?>
>                   </td>
> 
> 
> 
> 
>                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">
>                     <?php echo $row['request_details']; ?>
>                   </td>
616c592
<                   <?php
---
>               <?php
619,620c595,597
<               
<                ?>
---
> 
>               ?>
> 
624,626c601,603
<            
<           </tbody>
<         </table>
---
>             </tbody>
>           </table>
>         </div>
630,631d606
< </div>
<   
657d631
<     
659,660c633,636
< <!-- flowbite javascript -->
< <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
---
> 
> 
>   <!-- flowbite javascript -->
>   <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
663,664c639,640
< <script src="./node_modules/flowbite/dist/flowbite.js"></script>
< <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
---
>   <script src="./node_modules/flowbite/dist/flowbite.js"></script>
>   <script src="./node_modules/tw-elements/dist/js/index.min.js"></script>
666,667c642,651
< <!-- darkmode script -->
< <script>  
---
>   <!-- darkmode script -->
>   <script>
>     const exampleModal = document.getElementById('exampleModalCenter')
>     exampleModal.addEventListener('show.bs.modal', event => {
>       // Button that triggered the modal
>       const button = event.relatedTarget
>       // Extract info from data-bs-* attributes
>       const requestId = button.getAttribute('data-bs-id');
>       const joNumber = button.getAttribute('data-bs-jonumber')
>       const joEmail = button.getAttribute('data-bs-email')
668a653,660
>       // If necessary, you could initiate an AJAX request here
>       // and then do the updating in a callback.
>       //
>       // Update the modal's content.
>       const modalId = exampleModal.querySelector('#idInput')
>       const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
>       const reqNo = exampleModal.querySelector('#jonumber')
>       const ticketMail = exampleModal.querySelector('#ticketemail')
670,677d661
< const exampleModal = document.getElementById('exampleModalCenter')
< exampleModal.addEventListener('show.bs.modal', event => {
<   // Button that triggered the modal
<   const button = event.relatedTarget
<   // Extract info from data-bs-* attributes
<   const requestId = button.getAttribute('data-bs-id');
<   const joNumber = button.getAttribute('data-bs-jonumber')
<   const joEmail = button.getAttribute('data-bs-email')
679,686d662
<   // If necessary, you could initiate an AJAX request here
<   // and then do the updating in a callback.
<   //
<   // Update the modal's content.
<   const modalId = exampleModal.querySelector('#idInput')
<   const ticketNo = exampleModal.querySelector('#ticketnumbertitle')
<   const reqNo = exampleModal.querySelector('#jonumber')
<   const ticketMail = exampleModal.querySelector('#ticketemail')
687a664,667
>       modalId.value = `${requestId}`
>       reqNo.value = `${joNumber}`
>       ticketNo.textContent = `Approval JO number: ${joNumber}`
>       ticketMail.value = `${joEmail}`
689,693d668
<   
<   modalId.value = `${requestId}`
<   reqNo.value=`${joNumber}`
<   ticketNo.textContent = `Approval JO number: ${joNumber}`
<   ticketMail.value=`${joEmail}`
695d669
<  
697c671
< })
---
>     })
704,705c678,679
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
---
>     var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>     var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
707,712c681,686
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
---
>     // Change the icons inside the button based on previous settings
>     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>       themeToggleLightIcon.classList.remove('hidden');
>     } else {
>       themeToggleDarkIcon.classList.remove('hidden');
>     }
714c688
< var themeToggleBtn = document.getElementById('theme-toggle');
---
>     var themeToggleBtn = document.getElementById('theme-toggle');
716c690
< themeToggleBtn.addEventListener('click', function() {
---
>     themeToggleBtn.addEventListener('click', function() {
718,720c692,694
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
---
>       // toggle icons inside button
>       themeToggleDarkIcon.classList.toggle('hidden');
>       themeToggleLightIcon.classList.toggle('hidden');
722,723c696,697
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
---
>       // if set via local storage previously
>       if (localStorage.getItem('color-theme')) {
725,726c699,700
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
728,729c702,703
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
732,733c706,707
<     // if NOT set via local storage previously
<     } else {
---
>         // if NOT set via local storage previously
>       } else {
735,736c709,710
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
738,739c712,713
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
741,743c715
<     }
<     
< });
---
>       }
744a717
>     });
746d718
< // active page highlight
748,752c720
< var activepage = document.getElementById("side");
< activepage.classList.remove("text-gray-700");
< activepage.classList.add("text-blue-700");
< activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
---
>     // active page highlight
754c722,727
< </script>
---
>     var activepage = document.getElementById("side");
>     activepage.classList.remove("text-gray-700");
>     activepage.classList.add("text-blue-700");
>     activepage.classList.remove("dark:text-gray-400");
>     activepage.classList.add("dark:text-white");
>   </script>
756a730
> 
Only in helpdeskts2: helpdesk_db.sql
Common subdirectories: helpdesk/includes and helpdeskts2/includes
diff helpdesk/index.php helpdeskts2/index.php
4c4
<    include ("includes/connect.php");
---
> #   include ("includes/connect.php");
Common subdirectories: helpdesk/Jop Order Request Report Layout_files and helpdeskts2/Jop Order Request Report Layout_files
diff helpdesk/login.php helpdeskts2/login.php
3c3
< include ("includes/connect.php");
---
> include("includes/connect.php");
5c5
< if(isset( $_SESSION['connected'])){
---
> if (isset($_SESSION['connected'])) {
8,9c8,10
<   
<     }
---
> }
> 
> if (isset($_POST['submit'])) {
11,12d11
< if(isset($_POST['submit'])){
<     
17,31c16
<   if($section == "femmis"){
< 
<   
< 
<   $sql1 = "Select * FROM `user` WHERE `username`='$username'";
<   $result = mysqli_query($con, $sql1);
<   $numrows = mysqli_num_rows($result);
<   while($userRow = mysqli_fetch_assoc($result)){
<     $userDept = $userRow['department'];
<     $name = $userRow['name'];
<     $level = $userRow['level'];
<     $userpass = $userRow['password'];
<     $usermail = $userRow['email'];
<     $leaderof = $userRow['leader'];
< 
---
>   if ($section == "femmis") {
33,39d17
<     if($password == $userpass){
<       $_SESSION['name'] = $name;
<       $_SESSION['department'] = $userDept;
<       $_SESSION['level'] = $level;
<       $_SESSION['username'] = $username;
<       $_SESSION['email'] = $usermail;
<       $_SESSION['leaderof'] = $leaderof;
41a20,38
>     $sql1 = "Select * FROM `user` WHERE `username`='$username'";
>     $result = mysqli_query($con, $sql1);
>     $numrows = mysqli_num_rows($result);
>     while ($userRow = mysqli_fetch_assoc($result)) {
>       $userDept = $userRow['department'];
>       $name = $userRow['name'];
>       $level = $userRow['level'];
>       $userpass = $userRow['password'];
>       $usermail = $userRow['email'];
>       $leaderof = $userRow['leader'];
> 
> 
>       if ($password == $userpass) {
>         $_SESSION['name'] = $name;
>         $_SESSION['department'] = $userDept;
>         $_SESSION['level'] = $level;
>         $_SESSION['username'] = $username;
>         $_SESSION['email'] = $usermail;
>         $_SESSION['leaderof'] = $leaderof;
43d39
<       $_SESSION['connected']=true;
45,47d40
<       $date = new DateTime(); 
<       $month = $date->format('F');
<       $year = $date->format('Y');
49,67c42,67
<       $_SESSION['selectedMonth'] = $month;
<   $_SESSION['selectedYear'] = $year;
<   $_SESSION['filtered'] = "";
< 
< 
<       if($level =='user'){
<         header("location:employees");
<       }
<      else if($level =='mis'){
<         header("location:mis");
<       }
<       else if($level =='fem'){
<         header("location:fem");
<       }
<       else if($level =='head'){
<         header("location:department-head");
<       }
<       else if($level =='admin'){
<         header("location:department-admin");
---
>         $_SESSION['connected'] = true;
> 
>         $date = new DateTime();
>         $month = $date->format('F');
>         $year = $date->format('Y');
> 
>         $_SESSION['selectedMonth'] = $month;
>         $_SESSION['selectedYear'] = $year;
>         $_SESSION['filtered'] = "";
> 
> 
>         if ($level == 'user') {
>           header("location:employees");
>         } else if ($level == 'mis') {
>           header("location:mis");
>         } else if ($level == 'fem') {
>           header("location:fem");
>         } else if ($level == 'head') {
>           header("location:department-head");
>         } else if ($level == 'admin' && $leaderof == 'mis') {
>           header("location:department-admin");
>         } else if ($level == 'admin' && $leaderof == 'fem') {
>           header("location:fem-admin");
>         }
>       } else {
>         echo '<script>alert("Login Failed! Wrong password")</script>';
70,92d69
<     else{
<       echo '<script>alert("Login Failed! Wrong password")</script>';
<     }
<   }
< 
<   if($numrows == 0){
<     echo '<script>alert("Login Failed! Wrong credentials")</script>';
<   }
< 
< }
< else{
<   
< 
<   $sql1 = "Select * FROM `user` WHERE `username`='$username'";
<   $result = mysqli_query($con, $sql1);
<   $numrows = mysqli_num_rows($result);
<   while($userRow = mysqli_fetch_assoc($result)){
<     $userDept = $userRow['department'];
<     $name = $userRow['name'];
<     $level = $userRow['level'];
<     $userpass = $userRow['password'];
<     $usermail = $userRow['email'];
<     $leaderof = $userRow['leader'];
93a71,74
>     if ($numrows == 0) {
>       echo '<script>alert("Login Failed! Wrong credentials")</script>';
>     }
>   } else {
95,96d75
<     if($password == $userpass){
<       header("location:http://192.168.60.47/srs/login.php?user=$username&pass=$userpass");
97a77,93
>     $sql1 = "Select * FROM `user` WHERE `username`='$username'";
>     $result = mysqli_query($con, $sql1);
>     $numrows = mysqli_num_rows($result);
>     while ($userRow = mysqli_fetch_assoc($result)) {
>       $userDept = $userRow['department'];
>       $name = $userRow['name'];
>       $level = $userRow['level'];
>       $userpass = $userRow['password'];
>       $usermail = $userRow['email'];
>       $leaderof = $userRow['leader'];
> 
> 
>       if ($password == $userpass) {
>         header("location:http://192.168.60.47/srs/login.php?user=$username&pass=$userpass");
>       } else {
>         echo '<script>alert("Login Failed! Wrong password")</script>';
>       }
99,102d94
<     else{
<       echo '<script>alert("Login Failed! Wrong password")</script>';
<     }
<   }
104,105c96,98
<   if($numrows == 0){
<     echo '<script>alert("Login Failed! Wrong credentials")</script>';
---
>     if ($numrows == 0) {
>       echo '<script>alert("Login Failed! Wrong credentials")</script>';
>     }
107,108d99
< 
< }
121a113
> 
123,133c115,125
<     <meta charset="UTF-8">
<     <meta http-equiv="X-UA-Compatible" content="IE=edge">
<     <meta name="viewport" content="width=device-width, initial-scale=1.0">
<     <title>FEM MIS Helpdesk</title>
<     
<     <!-- font awesome -->
<     <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
<     <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
<   
<      <!-- tailwind play cdn -->
<     <script src="./cdn_tailwindcss.js"></script>
---
>   <meta charset="UTF-8">
>   <meta http-equiv="X-UA-Compatible" content="IE=edge">
>   <meta name="viewport" content="width=device-width, initial-scale=1.0">
>   <title>Helpdesk</title>
> 
>   <!-- font awesome -->
>   <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" /> -->
>   <link rel="stylesheet" href="./fontawesome-free-6.2.0-web/css/all.min.css">
> 
>   <!-- tailwind play cdn -->
>   <script src="./cdn_tailwindcss.js"></script>
136c128
<     <!-- <script src="Snowstorm-master/snowstorm.js"></script> -->
---
>   <!-- <script src="Snowstorm-master/snowstorm.js"></script> -->
139,141c131,133
<      <!-- from flowbite cdn -->
<     <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
<     <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
---
>   <!-- from flowbite cdn -->
>   <link rel="stylesheet" href="node_modules/flowbite/dist/flowbite.min.css" />
>   <!-- <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" /> -->
144,145c136,137
<     <link rel="shortcut icon" href="resources/img/helpdesk.png">
<     <!-- <link rel="stylesheet" href="css/style.css" /> -->
---
>   <link rel="shortcut icon" href="resources/img/helpdesk.png">
>   <!-- <link rel="stylesheet" href="css/style.css" /> -->
148,149c140,141
<     <!-- darkmode -->
<     <script>
---
>   <!-- darkmode -->
>   <script>
152c144
<         document.documentElement.classList.add('dark');
---
>       document.documentElement.classList.add('dark');
154c146
<         document.documentElement.classList.remove('dark')
---
>       document.documentElement.classList.remove('dark')
156c148
< </script>
---
>   </script>
158,163c150,154
< <style>
<   
< .logo-container {
<   position: relative;
<   animation: floatAnimation 2s ease-in-out infinite;
< }
---
>   <style>
>     .logo-container {
>       position: relative;
>       animation: floatAnimation 2s ease-in-out infinite;
>     }
167,174c158
< @keyframes floatAnimation {
<   0%, 100% {
<     transform: translateY(0);
<   }
<   50% {
<     transform: translateY(-10px);
<   }
< }
---
>     @keyframes floatAnimation {
175a160,163
>       0%,
>       100% {
>         transform: translateY(0);
>       }
177c165,169
< </style>
---
>       50% {
>         transform: translateY(-10px);
>       }
>     }
>   </style>
180d171
< <body  class="static  bg-[#d0d7eff2] dark:bg-gray-900"  >
182,183c173
<     <!-- nav -->
<     <?php require_once 'nav_login.php';?>
---
> <body class="static  bg-[#d0d7eff2] dark:bg-gray-900">
184a175,176
>   <!-- nav -->
>   <?php require_once 'nav_login.php'; ?>
186d177
< <!-- main -->
187a179
>   <!-- main -->
189,199d180
< <section class="h-screen" >
<   <div class="m-auto container px-6 py-4 h-full">
<     <div class="flex justify-center items-center flex-wrap h-full g-6 text-gray-800">
<       <div class="sm:p-20 w-1/2 md:w-8/12 lg:w-6/12 sm:mb-12 md:mb-0">
<         <img
<           src="resources/img/heldesk 3d.png"
<           class="w-full logo-container"
<           alt="Login image"
<         />
<       </div>
<       <div class="sm:p-28 w-full md:w-8/12 lg:w-6/12 mb-12 md:mb-0">
200a182,188
>   <section class="h-screen">
>     <div class="m-auto container px-6 py-4 h-full">
>       <div class="flex justify-center items-center flex-wrap h-full g-6 text-gray-800">
>         <div class="sm:p-20 w-1/2 md:w-8/12 lg:w-6/12 sm:mb-12 md:mb-0">
>           <img src="resources/img/heldesk 3d.png" class="w-full logo-container" alt="Login image" />
>         </div>
>         <div class="sm:p-28 w-full md:w-8/12 lg:w-6/12 mb-12 md:mb-0">
202d189
<         <form  method="post" action="login.php">
204,205c191
<         <h1 class="text-[#3a394b] text-xl font-bold text-center mb-10">Welcome to Helpdesk System</h1>
<         <!-- <h1 class="text-gray-400 text-xl font-bold text-center mb-10">Welcome to Helpdesk System</h1> -->
---
>           <form method="post" action="login.php">
207,237c193,194
<           <!-- password input -->
<           <div class="mb-6">
<             <input
<               type="text"
<               name="username"
<               autocomplete="off"
<               class="form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
<               placeholder="User Name"
<             />
<           </div>
< 
<           <!-- Password input -->
<           <div class="mb-6">
<             <input
<               type="password"
<               name="password"
<               class="form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
<               placeholder="Password"
<             />
<           </div>
<           <div class="mb-6 flex gap-4">
< 
<           
< <div class="gap-4 p-2 flex w-full items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
<     <input  checked id="bordered-radio-1" type="radio" value="femmis" name="section" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
<     <label for="bordered-radio-1" class="w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">FEM / MIS</label>
< </div>
< <div class=" gap-4 p-2 flex w-full items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
<     <input id="bordered-radio-2" type="radio" value="systemkaizen" name="section" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
<     <label for="bordered-radio-2" class="w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">System Kaizen</label>
< </div>
---
>             <h1 class="text-[#3a394b] text-xl font-bold text-center mb-10">Welcome to Helpdesk System</h1>
>             <!-- <h1 class="text-gray-400 text-xl font-bold text-center mb-10">Welcome to Helpdesk System</h1> -->
239c196,199
<           </div>
---
>             <!-- password input -->
>             <div class="mb-6">
>               <input type="text" name="username" autocomplete="off" class="form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" placeholder="User Name" />
>             </div>
241,259c201,205
<           <div class="flex justify-between items-center mb-6">
<            
<             <a
<               href="#!"
<               class="hidden text-blue-600 hover:text-blue-700 focus:text-blue-700 active:text-blue-800 duration-200 transition ease-in-out"
<               >Forgot password?</a
<             >
<           </div>
< 
<           <!-- Submit button -->
<           <button
<             type="submit"
<             name="submit"
<             class="inline-block px-7 py-3 bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-full"
<             data-mdb-ripple="true"
<             data-mdb-ripple-color="light"
<           >
<             Sign in
<           </button>
---
>             <!-- Password input -->
>             <div class="mb-6">
>               <input type="password" name="password" class="form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none" placeholder="Password" />
>             </div>
>             <div class="mb-6 flex gap-4">
261,262d206
<   
<         </form>
264,265c208,233
<       </div>
<       <!-- <div class="flex justify-center">
---
>               <div class="gap-4 p-2 flex w-full items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
>                 <input checked id="bordered-radio-1" type="radio" value="femmis" name="section" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
>                 <label for="bordered-radio-1" class="w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">FEM / ICT</label>
>               </div>
>               <div class=" gap-4 p-2 flex w-full items-center ps-4 border border-gray-200 rounded dark:border-gray-700">
>                 <input id="bordered-radio-2" type="radio" value="systemkaizen" name="section" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600">
>                 <label for="bordered-radio-2" class="w-full py-4 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300">System Request</label>
>               </div>
> 
>             </div>
> 
>             <div class="flex justify-between items-center mb-6">
> 
>               <a href="#!" class="hidden text-blue-600 hover:text-blue-700 focus:text-blue-700 active:text-blue-800 duration-200 transition ease-in-out">Forgot password?</a>
>             </div>
> 
>             <!-- Submit button -->
>             <button type="submit" name="submit" class="inline-block px-7 py-3 bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-full" data-mdb-ripple="true" data-mdb-ripple-color="light">
>               Sign in
>             </button>
> 
> 
>           </form>
> 
>         </div>
>         <!-- <div class="flex justify-center">
293,294c261,262
<       <!-- <footer class="w-full bg-white dark:bg-gray-900 m-4"> -->
<       <footer class="w-full  m-4">
---
>         <!-- <footer class="w-full bg-white dark:bg-gray-900 m-4"> -->
>         <footer class="w-full  m-4">
297,299c265,267
< <!-- <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8" /> -->
< <!-- <span class="block text-sm text-gray-500 text-center dark:text-gray-400">  <a href="https://flowbite.com/" class="hover:underline">Designed By</a> Cedrick James - MIS Section</span> -->
< <span class="block text-sm  text-center dark:text-gray-400">  <a href="https://flowbite.com/" class="hover:underline">Designed By</a> Cedrick James - MIS Section</span>
---
>           <!-- <hr class="my-6 border-gray-200 sm:mx-auto dark:border-gray-700 lg:my-8" /> -->
>           <!-- <span class="block text-sm text-gray-500 text-center dark:text-gray-400">  <a href="https://flowbite.com/" class="hover:underline">Designed By</a> Cedrick James - MIS Section</span> -->
>           <span class="block text-sm  text-center dark:text-gray-400"> <a href="https://flowbite.com/" class="hover:underline">Designed By</a> Cedrick James - ICT Department</span>
301,302c269,270
< </div>
< </footer>
---
>       </div>
>       </footer>
304d271
<      
306,308d272
<   </div>
<   
< </section>
309a274
>     </div>
310a276
>   </section>
312d277
<  
315,403d279
< <!-- end of main -->
<     
< 
< <!-- flowbite javascript -->
< <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script> -->
< <script src="node_modules/flowbite/dist/flowbite.js"></script>
< 
< 
< 
< <!-- darkmode script -->
< <script>  
< // const gallery = document.getElementById('gallery');
< // const slider = document.getElementById('slider');
< // const prevButton = document.getElementById('prevButton');
< // const nextButton = document.getElementById('nextButton');
< 
< // let slidePosition = 0;
< // const slideWidth = gallery.offsetWidth / 3;
< // const maxSlidePosition = -((slider.offsetWidth / 3) * (slider.childElementCount - 3));
< // let autoSlideInterval;
< 
< // const slideNext = () => {
< //   slidePosition -= slideWidth;
< //   slider.style.transform = `translateX(${slidePosition}px)`;
< 
< //   if (slidePosition < maxSlidePosition) {
< //     setTimeout(() => {
< //       slidePosition = 0;
< //       slider.style.transition = 'none';
< //       slider.style.transform = `translateX(${slidePosition}px)`;
< 
< //       setTimeout(() => {
< //         slider.style.transition = '';
< //       }, 10);
< //     }, 500);
< //   }
< // };
< 
< // const slidePrevious = () => {
< //   slidePosition += slideWidth;
< //   slider.style.transform = `translateX(${slidePosition}px)`;
< 
< //   if (slidePosition > 0) {
< //     setTimeout(() => {
< //       slidePosition = maxSlidePosition;
< //       slider.style.transition = 'none';
< //       slider.style.transform = `translateX(${slidePosition}px)`;
< 
< //       setTimeout(() => {
< //         slider.style.transition = '';
< //       }, 10);
< //     }, 500);
< //   }
< // };
< 
< // const startAutoSlide = () => {
< //   autoSlideInterval = setInterval(() => {
< //     slideNext();
< //   }, 3000);
< // };
< 
< // const stopAutoSlide = () => {
< //   clearInterval(autoSlideInterval);
< // };
< 
< // nextButton.addEventListener('click', () => {
< //   stopAutoSlide();
< //   slideNext();
< //   startAutoSlide();
< // });
< 
< // prevButton.addEventListener('click', () => {
< //   stopAutoSlide();
< //   slidePrevious();
< //   startAutoSlide();
< // });
< 
< // startAutoSlide();
< 
< 
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
< 
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
405d280
< var themeToggleBtn = document.getElementById('theme-toggle');
407d281
< themeToggleBtn.addEventListener('click', function() {
409,411c283,319
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
---
>   <!-- end of main -->
> 
> 
>   <!-- flowbite javascript -->
>   <!-- <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script> -->
>   <script src="node_modules/flowbite/dist/flowbite.js"></script>
> 
> 
> 
>   <!-- darkmode script -->
>   <script>
>     // const gallery = document.getElementById('gallery');
>     // const slider = document.getElementById('slider');
>     // const prevButton = document.getElementById('prevButton');
>     // const nextButton = document.getElementById('nextButton');
> 
>     // let slidePosition = 0;
>     // const slideWidth = gallery.offsetWidth / 3;
>     // const maxSlidePosition = -((slider.offsetWidth / 3) * (slider.childElementCount - 3));
>     // let autoSlideInterval;
> 
>     // const slideNext = () => {
>     //   slidePosition -= slideWidth;
>     //   slider.style.transform = `translateX(${slidePosition}px)`;
> 
>     //   if (slidePosition < maxSlidePosition) {
>     //     setTimeout(() => {
>     //       slidePosition = 0;
>     //       slider.style.transition = 'none';
>     //       slider.style.transform = `translateX(${slidePosition}px)`;
> 
>     //       setTimeout(() => {
>     //         slider.style.transition = '';
>     //       }, 10);
>     //     }, 500);
>     //   }
>     // };
413,414c321,382
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
---
>     // const slidePrevious = () => {
>     //   slidePosition += slideWidth;
>     //   slider.style.transform = `translateX(${slidePosition}px)`;
> 
>     //   if (slidePosition > 0) {
>     //     setTimeout(() => {
>     //       slidePosition = maxSlidePosition;
>     //       slider.style.transition = 'none';
>     //       slider.style.transform = `translateX(${slidePosition}px)`;
> 
>     //       setTimeout(() => {
>     //         slider.style.transition = '';
>     //       }, 10);
>     //     }, 500);
>     //   }
>     // };
> 
>     // const startAutoSlide = () => {
>     //   autoSlideInterval = setInterval(() => {
>     //     slideNext();
>     //   }, 3000);
>     // };
> 
>     // const stopAutoSlide = () => {
>     //   clearInterval(autoSlideInterval);
>     // };
> 
>     // nextButton.addEventListener('click', () => {
>     //   stopAutoSlide();
>     //   slideNext();
>     //   startAutoSlide();
>     // });
> 
>     // prevButton.addEventListener('click', () => {
>     //   stopAutoSlide();
>     //   slidePrevious();
>     //   startAutoSlide();
>     // });
> 
>     // startAutoSlide();
> 
> 
>     var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>     var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
> 
>     // Change the icons inside the button based on previous settings
>     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>       themeToggleLightIcon.classList.remove('hidden');
>     } else {
>       themeToggleDarkIcon.classList.remove('hidden');
>     }
> 
>     var themeToggleBtn = document.getElementById('theme-toggle');
> 
>     themeToggleBtn.addEventListener('click', function() {
> 
>       // toggle icons inside button
>       themeToggleDarkIcon.classList.toggle('hidden');
>       themeToggleLightIcon.classList.toggle('hidden');
> 
>       // if set via local storage previously
>       if (localStorage.getItem('color-theme')) {
416,417c384,385
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
419,420c387,388
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
423,424c391,392
<     // if NOT set via local storage previously
<     } else {
---
>         // if NOT set via local storage previously
>       } else {
426,427c394,395
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>           document.documentElement.classList.remove('dark');
>           localStorage.setItem('color-theme', 'light');
429,430c397,398
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>           document.documentElement.classList.add('dark');
>           localStorage.setItem('color-theme', 'dark');
432,434c400
<     }
<     
< });
---
>       }
435a402
>     });
441,445d407
< var activepage = document.getElementById("main_index");
< activepage.classList.remove("text-gray-700");
< activepage.classList.add("text-blue-700");
< activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
447c409,414
< </script>
---
>     var activepage = document.getElementById("main_index");
>     activepage.classList.remove("text-gray-700");
>     activepage.classList.add("text-blue-700");
>     activepage.classList.remove("dark:text-gray-400");
>     activepage.classList.add("dark:text-white");
>   </script>
449a417
> 
diff helpdesk/main.php helpdeskts2/main.php
3,4c3,4
< session_start();
< include ("includes/connect.php");
---
> // session_start();
> // include ("includes/connect.php");
32c32
< ?>
\ No newline at end of file
---
> ?>
Common subdirectories: helpdesk/mis and helpdeskts2/mis
diff helpdesk/nav_login.php helpdeskts2/nav_login.php
1,3d0
< 
< 
< 
8c5
< <div class="flex items-center">
---
>   <div class="flex items-center">
10,11c7,8
<    <!-- slidebar button -->
<    <!-- <a data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation"> 
---
>     <!-- slidebar button -->
>     <!-- <a data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation"> 
18c15
< <div class="container flex flex-wrap justify-between items-center mx-auto pt-0 pl-4">
---
>     <div class="container flex flex-wrap justify-between items-center mx-auto pt-0 pl-4">
20,25c17,22
<     <!-- <a class="flex items-center" data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation"> -->
<         <img src="resources/img/helpdesk.png" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" >
<         <span class="self-center text-xl font-semibold whitespace-nowrap text-white">MIS x FEM
<         
<         </span>
<     <!-- </a> -->
---
>       <!-- <a class="flex items-center" data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation"> -->
>       <img src="resources/img/helpdesk.png" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo">
>       <span class="self-center text-xl font-semibold whitespace-nowrap text-white">HELPDESK
> 
>       </span>
>       <!-- </a> -->
27,29d23
<    
<       
<   
32c26,29
<     <!-- <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
---
> 
> 
> 
>       <!-- <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
39c36
<     <!-- <div class="hidden w-full md:block md:w-auto" id="navbar-default">
---
>       <!-- <div class="hidden w-full md:block md:w-auto" id="navbar-default">
59c56
<    
---
> 
70c67
<  
---
> 
76c73
<   
---
> 
91,93c88,90
<   function mouseOver(){
<    document.getElementById("loginicon").style.display = "inline";
<    document.getElementById("logintext").style.display = "none";
---
>   function mouseOver() {
>     document.getElementById("loginicon").style.display = "inline";
>     document.getElementById("logintext").style.display = "none";
96,98c93,96
<   function mouseOut(){
<    document.getElementById("logintext").style.display = "inline";
<    document.getElementById("loginicon").style.display = "none";
---
> 
>   function mouseOut() {
>     document.getElementById("logintext").style.display = "inline";
>     document.getElementById("loginicon").style.display = "none";
109,118c107
< 
< 
< </script>
< 
< 
< 
< 
< 
<   
<  
---
> </script>
\ No newline at end of file
diff helpdesk/nav.php helpdeskts2/nav.php
1c1
< <?php 
---
> <?php
5,7c5,7
< $nname=$_SESSION['name'];
< $llevel=$_SESSION['level'];
< $username=$_SESSION['username'];
---
> $nname = $_SESSION['name'];
> $llevel = $_SESSION['level'];
> $username = $_SESSION['username'];
12,18c12,16
< $sqlLevel="select level from user where username='$username'";
< $resultLevel = mysqli_query($con,$sqlLevel);
< while($field=mysqli_fetch_assoc($resultLevel))
< {
<     $level=$field["level"];
<     $_SESSION['level'] = $level;  
<    
---
> $sqlLevel = "select level from user where username='$username'";
> $resultLevel = mysqli_query($con, $sqlLevel);
> while ($field = mysqli_fetch_assoc($resultLevel)) {
>    $level = $field["level"];
>    $_SESSION['level'] = $level;
21,22c19,21
<    if($_SESSION['level'] == 'admin'){
<       $sql="select * from request where status2='head'";
---
> 
>    if ($_SESSION['level'] == 'admin') {
>       $sql = "select * from request where status2='head'";
24,25c23,24
<       $result = mysqli_query($con,$sql);
<       $counthead = mysqli_num_rows($result); 
---
>       $result = mysqli_query($con, $sql);
>       $counthead = mysqli_num_rows($result);
29,30c28,29
<    if($_SESSION['level'] == 'admin'){
<       $sql="select * from request where status2='admin'";
---
>    if ($_SESSION['level'] == 'admin') {
>       $sql = "select * from request where status2='admin'";
32,33c31,32
<       $result = mysqli_query($con,$sql);
<       $countadmin = mysqli_num_rows($result); 
---
>       $result = mysqli_query($con, $sql);
>       $countadmin = mysqli_num_rows($result);
36,38c35,37
<     if($_SESSION['level'] == 'head'){
<       $sql="select * from request where status2='head' and approving_head='$nname'";
<       $result = mysqli_query($con,$sql);
---
>    if ($_SESSION['level'] == 'head') {
>       $sql = "select * from request where status2='head' and approving_head='$nname'";
>       $result = mysqli_query($con, $sql);
41,43d39
< 
<   
< 
64c60
< <div class="flex items-center">
---
>    <div class="flex items-center">
66,68c62,67
<    <!-- slidebar button -->
<    <a data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation"> 
<    <!-- <i class="fa fa-list fa-xl"  style="color: gray;"></i> -->
---
>       <!-- slidebar button -->
>       <a data-drawer-target="drawer-navigation" data-drawer-show="drawer-navigation" aria-controls="drawer-navigation">
>          <!-- <i class="fa fa-list fa-xl"  style="color: gray;"></i> -->
> 
>          <img src="./resources/img/menu-bar.png" class=" w-8 h-8" alt="">
>       </a>
70,71d68
<    <img src="./resources/img/menu-bar.png" class=" w-8 h-8"  alt="">
<    </a>
75a73
>       <div class="container flex flex-wrap justify-between items-center mx-auto pt-0 pl-4">
77c75,80
< <div class="container flex flex-wrap justify-between items-center mx-auto pt-0 pl-4">
---
>          <a class="flex items-center">
>             <img src="resources/img/logo.jpg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo">
>             <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Helpdesk
> 
>             </span>
>          </a>
79,84d81
<     <a class="flex items-center" >
<         <img src="resources/img/logo.jpg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" >
<         <span class="self-center text-xl font-semibold whitespace-nowrap dark:text-white">Helpdesk
<         
<         </span>
<     </a>
86,88d82
<    
<       
<   
91,105d84
<     <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
<       <span class="sr-only">Open main menu</span>
<       <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
<     </button>
<     <div class="hidden w-full md:block md:w-auto" id="navbar-default">
<       <ul class="flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
<         <li>
<           <a href="main.php" id="main_index" class=" block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent" >Home</a>
<         </li>
<         <li>
<           <a href="allrequest.php" id="allrequest" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent" >Overall Active</a>
<         </li>
<         <li>
<           <a href="form.php" id="joform" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Request Form</a>
<         </li>
108c87,106
<         <!-- <li>
---
>          <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
>             <span class="sr-only">Open main menu</span>
>             <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
>                <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
>             </svg>
>          </button>
>          <div class="hidden w-full md:block md:w-auto" id="navbar-default">
>             <ul class="flex flex-col p-4 mt-4 bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700">
>                <li>
>                   <a href="main.php" id="main_index" class=" block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Home</a>
>                </li>
>                <li>
>                   <a href="allrequest.php" id="allrequest" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Overall Active</a>
>                </li>
>                <li>
>                   <a href="form.php" id="joform" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Request Form</a>
>                </li>
> 
> 
>                <!-- <li>
113,118c111,122
<         <li>
<           <a href="userprofile.php" id="profile" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">User Page</a>
<         </li>
<         
<       </ul>
<     </div>
---
>                <li>
>                   <a href="userprofile.php" id="profile" class="block py-2 pr-4 pl-3 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">User Page</a>
>                </li>
> 
>             </ul>
>          </div>
> 
>          <div>
>             <a class="mr-6 ml-2 text-sm font-medium text-gray-500 dark:text-white hover:underline">Hi <?php echo $_SESSION['name'] ?> </a>
>             <a href="logout.php" id="logintext" onmouseover="mouseOver()" class="login text-sm font-medium text-blue-600 dark:text-blue-500 pr-4 ">Logout</a>
>             <!-- <a href="logout.php" id="loginicon" style="display: none" onmouseout="mouseOut()" class="iconlogin text-sm font-medium text-blue-600 dark:text-blue-500 pr-4 login">  -->
>             <!-- <i class="fa-solid fa-right-to-bracket"></i> -->
120,126c124
<     <div>
<     <a class="mr-6 ml-2 text-sm font-medium text-gray-500 dark:text-white hover:underline">Hi <?php echo $_SESSION['name']?> </a>
<       <a href="logout.php" id="logintext"  onmouseover="mouseOver()"  class="login text-sm font-medium text-blue-600 dark:text-blue-500 pr-4 ">Logout</a>
<       <!-- <a href="logout.php" id="loginicon" style="display: none" onmouseout="mouseOut()" class="iconlogin text-sm font-medium text-blue-600 dark:text-blue-500 pr-4 login">  -->
<       <!-- <i class="fa-solid fa-right-to-bracket"></i> -->
<          
<       </a>
---
>             </a>
129,130c127,128
<    </div>
<     </div>
---
>          </div>
>       </div>
133c131
<     <!-- darkmode button -->
---
>       <!-- darkmode button -->
137c135,136
<   </div>
---
>    </div>
> 
142d140
<  
148c146
<   
---
> 
158,163c156,163
<     <h5 id="drawer-navigation-label" class=" font-semibold text-gray-500 uppercase dark:text-white">System Menu</h5>
<     <button type="button" data-drawer-dismiss="drawer-navigation" aria-controls="drawer-navigation" class="text-rose-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
<         <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
<         <span class="sr-only">Close menu</span>
<     </button>
<   <div class="py-4 overflow-y-auto">
---
>    <h5 id="drawer-navigation-label" class=" font-semibold text-gray-500 uppercase dark:text-white">System Menu</h5>
>    <button type="button" data-drawer-dismiss="drawer-navigation" aria-controls="drawer-navigation" class="text-rose-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 absolute top-2.5 right-2.5 inline-flex items-center dark:hover:bg-gray-600 dark:hover:text-white">
>       <svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
>          <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
>       </svg>
>       <span class="sr-only">Close menu</span>
>    </button>
>    <div class="py-4 overflow-y-auto">
167,169c167,169
<             <img aria-hidden="true"src="resources/img/dashboard.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
<             <span class="flex-1 ml-3 whitespace-nowrap">Dashboard</span>
<          </a>
---
>                <img aria-hidden="true" src="resources/img/dashboard.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
>                <span class="flex-1 ml-3 whitespace-nowrap">Dashboard</span>
>             </a>
174,175c174,175
<             <a href="head_approval.php" class=" <?php if ($llevel=="user"||$llevel=="fem"||$llevel=="mis"){?>hidden<?php }?>  flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
<                <img aria-hidden="true"src="resources/img/head.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>             <a href="head_approval.php" class=" <?php if ($llevel == "user" || $llevel == "fem" || $llevel == "mis") { ?>hidden<?php } ?>  flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
>                <img aria-hidden="true" src="resources/img/head.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
177c177
<                <span class="inline-flex items-center justify-center w-3 h-3 p-3 ml-3 text-sm font-medium text-blue-600 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200"><?php echo $counthead?></span>
---
>                <span class="inline-flex items-center justify-center w-3 h-3 p-3 ml-3 text-sm font-medium text-blue-600 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200"><?php echo $counthead ?></span>
184,187c184,187
<             <a href="admin_approval.php" class="  <?php if ($llevel=="head"||$llevel=="user"||$llevel=="mis"||$llevel=="fem"){?>hidden<?php }?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
<             <img aria-hidden="true"src="resources/img/admin.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
<                <span class="flex-1 ml-3 whitespace-nowrap">Admin Approval</span>
<                <span class="inline-flex items-center justify-center w-3 h-3 p-3 ml-3 text-sm font-medium text-blue-600 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200"><?php echo $countadmin?></span>
---
>             <a href="admin_approval.php" class="  <?php if ($llevel == "head" || $llevel == "user" || $llevel == "mis" || $llevel == "fem") { ?>hidden<?php } ?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
>                <img aria-hidden="true" src="resources/img/admin.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
>                <span class="flex-1 ml-3 whitespace-nowrap">Final Approval</span>
>                <span class="inline-flex items-center justify-center w-3 h-3 p-3 ml-3 text-sm font-medium text-blue-600 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200"><?php echo $countadmin ?></span>
191c191
<         
---
> 
194,195c194,195
<             <a href="#" class="<?php if ($llevel=="head"||$llevel=="user"||$llevel=="mis"){?>hidden<?php }?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
<             <img aria-hidden="true"src="resources/img/fem.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>             <a href="#" class="<?php if ($llevel == "head" || $llevel == "user" || $llevel == "mis") { ?>hidden<?php } ?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
>                <img aria-hidden="true" src="resources/img/fem.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
202,204c202,204
<             <a href="#" class="<?php if ($llevel=="head"||$llevel=="user"||$llevel=="fem"){?>hidden<?php }?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
<             <img aria-hidden="true"src="resources/img/mis.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
<                <span class="flex-1 ml-3 whitespace-nowrap">MIS Pending </span>
---
>             <a href="#" class="<?php if ($llevel == "head" || $llevel == "user" || $llevel == "fem") { ?>hidden<?php } ?> flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700">
>                <img aria-hidden="true" src="resources/img/mis.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
>                <span class="flex-1 ml-3 whitespace-nowrap">ICT Pending </span>
212c212
<             <img aria-hidden="true"src="resources/img/done.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>                <img aria-hidden="true" src="resources/img/done.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
220c220
<             <img aria-hidden="true"src="resources/img/denied.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>                <img aria-hidden="true" src="resources/img/denied.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
228c228
<             <img aria-hidden="true"src="resources/img/rating.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>                <img aria-hidden="true" src="resources/img/rating.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
236c236
<             <img aria-hidden="true"src="resources/img/report.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" >
---
>                <img aria-hidden="true" src="resources/img/report.png" class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20">
255c255
<          
---
> 
265,272c265,267
< <footer class="fixed bottom-0 left-0 z-40 p-4 w-full  border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 bg-white dark:bg-gray-900 "style="padding-top: 0.25px;">
<     <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400"> <?php echo date('Y') ?> <a href="https://flowbite.com/" class="hover:underline">GPI FEM/MIS </a>: All Rights Reserved
<     </span>
<     
<     <!-- <a href="mailto:j.nemedez@glory.com.ph" class="font-thin text-gray-400 text-left italic font-serif">Powered by: naith.<u class="text-blue-600">ph</u></a> -->
<     
< </footer> 
< 
---
> <footer class="fixed bottom-0 left-0 z-40 p-4 w-full  border-t border-gray-200 shadow md:flex md:items-center md:justify-between md:p-6 bg-white dark:bg-gray-900 " style="padding-top: 0.25px;">
>    <span class="text-sm text-gray-500 sm:text-center dark:text-gray-400"> <?php echo date('Y') ?> <a href="https://flowbite.com/" class="hover:underline">GPI FEM/ICT </a>: All Rights Reserved
>    </span>
273a269
>    <!-- <a href="mailto:j.nemedez@glory.com.ph" class="font-thin text-gray-400 text-left italic font-serif">Powered by: naith.<u class="text-blue-600">ph</u></a> -->
275,286c271
< <script>
<   function mouseOver(){
<    document.getElementById("loginicon").style.display = "inline";
<    document.getElementById("logintext").style.display = "none";
< 
<   }
<   function mouseOut(){
<    document.getElementById("logintext").style.display = "inline";
<    document.getElementById("loginicon").style.display = "none";
< 
<   }
< 
---
> </footer>
289,293d273
< //   var homeoption = document.getElementById("homeoption");
< //   homeoption.classList.remove("text-gray-700");
< //   homeoption.classList.add("text-white");
< //   homeoption.classList.remove("dark:text-gray-400");
< //   homeoption.classList.add("dark:text-white");
294a275,278
> <script>
>    function mouseOver() {
>       document.getElementById("loginicon").style.display = "inline";
>       document.getElementById("logintext").style.display = "none";
296c280
< </script>
---
>    }
297a282,284
>    function mouseOut() {
>       document.getElementById("logintext").style.display = "inline";
>       document.getElementById("loginicon").style.display = "none";
298a286
>    }
302,303c290,295
<   
<  
---
>    //   var homeoption = document.getElementById("homeoption");
>    //   homeoption.classList.remove("text-gray-700");
>    //   homeoption.classList.add("text-white");
>    //   homeoption.classList.remove("dark:text-gray-400");
>    //   homeoption.classList.add("dark:text-white");
> </script>
\ No newline at end of file
Common subdirectories: helpdesk/node_modules and helpdeskts2/node_modules
Only in helpdeskts2: PDF Summary Report.php
Only in helpdesk: README.md
Common subdirectories: helpdesk/resources and helpdeskts2/resources
Common subdirectories: helpdesk/Snowstorm-master and helpdeskts2/Snowstorm-master
Common subdirectories: helpdesk/src and helpdeskts2/src
Only in helpdeskts2: summary_report_xls.php
Only in helpdeskts2: ticketApproval.php
Common subdirectories: helpdesk/upload_files and helpdeskts2/upload_files
diff helpdesk/userprofile.php helpdeskts2/userprofile.php
1,2c1
< 
< <?php 
---
> <?php
12c11
< ini_set( "session.gc_maxlifetime", $timeout );
---
> ini_set("session.gc_maxlifetime", $timeout);
16c15,17
< ini_set( "session.cookie_lifetime", $timeout );
---
> ini_set("session.cookie_lifetime", $timeout);
> 
> // session_start();
18,19d18
<   // session_start();
<   
21,22c20,21
< $url1=$_SERVER['REQUEST_URI'];
<     header("Refresh: 200; URL=$url1");
---
> $url1 = $_SERVER['REQUEST_URI'];
> header("Refresh: 200; URL=$url1");
25,30c24
< if(isset( $_COOKIE[ $s_name ] )) {
< 
<     setcookie( $s_name, $_COOKIE[ $s_name ], time() + $timeout, '/' );
< 
<     
< }
---
> if (isset($_COOKIE[$s_name])) {
32c26,27
< else
---
>     setcookie($s_name, $_COOKIE[$s_name], time() + $timeout, '/');
> } else
44,46c39,42
<     if(!isset($_SESSION['connected'])){
<       header("location: index.php");
<     }
---
> if (!isset($_SESSION['connected'])) {
>     header("location: index.php");
> }
> 
48d43
<     
50c45
< include ("includes/connect.php");
---
> include("includes/connect.php");
52c47
< $user_level=$_SESSION['level'];
---
> $user_level = $_SESSION['level'];
61a57
> 
66c62
<     <title>FEM MIS Helpdesk</title>
---
>     <title>Helpdesk</title>
72,73d67
<     
<     
75c69,71
<      <!-- tailwind play cdn -->
---
> 
> 
>     <!-- tailwind play cdn -->
78c74
<      <!-- from flowbite cdn -->
---
>     <!-- from flowbite cdn -->
80c76
< <!-- Script for jquery -->
---
>     <!-- Script for jquery -->
90,95c86,91
<     // On page load or when changing themes, best to add inline in `head` to avoid FOUC
<     if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<         document.documentElement.classList.add('dark');
<     } else {
<         document.documentElement.classList.remove('dark')
<     }
---
>         // On page load or when changing themes, best to add inline in `head` to avoid FOUC
>         if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>             document.documentElement.classList.add('dark');
>         } else {
>             document.documentElement.classList.remove('dark')
>         }
103c99
< <body  onload=navFuntion() class="static  bg-white dark:bg-gray-900"  >
---
> <body onload=navFuntion() class="static  bg-white dark:bg-gray-900">
106c102
<     <?php require_once 'nav.php';?>
---
>     <?php require_once 'nav.php'; ?>
109c105
< <!-- main -->
---
>     <!-- main -->
111c107
< <div class="  flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50 ">
---
>     <div class="  flex mt-24   left-10 right-5    flex flex-col  px-14 sm:px-14  pt-6 pb-14 z-50 ">
113c109
< <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">JO :  <span class="text-blue-600 dark:text-blue-500">User Profile</span></h1>
---
>         <h1 class="mb-4 text-4xl font-extrabold tracking-tight leading-none text-gray-900 md:text-5xl lg:text-3xl dark:text-white">JO : <span class="text-blue-600 dark:text-blue-500">User Profile</span></h1>
116,126c112,122
< <form>
< <div class="grid md:grid-cols-2 md:gap-6">
<     <div class="relative z-0 mb-6 w-full group">
<         <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
<         <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">First name</label>
<     </div>
<     <div class="relative z-0 mb-6 w-full group">
<         <input type="text" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
<         <label for="floating_last_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Last name</label>
<     </div>
<   </div>
---
>         <form>
>             <div class="grid md:grid-cols-2 md:gap-6">
>                 <div class="relative z-0 mb-6 w-full group">
>                     <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
>                     <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">First name</label>
>                 </div>
>                 <div class="relative z-0 mb-6 w-full group">
>                     <input type="text" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
>                     <label for="floating_last_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Last name</label>
>                 </div>
>             </div>
129,146c125,162
<   <div class="grid md:grid-cols-2 md:gap-6">
<     <div class="relative z-0 mb-6 w-full group">
<         <!-- <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  /> -->
<        
<             
<         <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" ></label>
<         <select id="company" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"require>
<             <option  selected disabled class="text-gray-700 ">Company</option>
<             <option value="GLORY">GLORY</option>
<             <option value="Maxim">MAXIM</option>
<             <option value="Nippi">NIPPI</option>
<             <option value="Powerlane">POWERLANE</option>
<             
<          </select>
<    
<    
<     </div>
<     <div class="relative z-0 mb-6 w-full group">
---
>             <div class="grid md:grid-cols-2 md:gap-6">
>                 <div class="relative z-0 mb-6 w-full group">
>                     <!-- <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  /> -->
> 
> 
>                     <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"></label>
>                     <select id="company" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" require>
>                         <option selected disabled class="text-gray-700 ">Company</option>
>                         <option value="GLORY">GLORY</option>
>                         <option value="Maxim">MAXIM</option>
>                         <option value="Nippi">NIPPI</option>
>                         <option value="Powerlane">POWERLANE</option>
> 
>                     </select>
> 
> 
>                 </div>
>                 <div class="relative z-0 mb-6 w-full group">
> 
>                     <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"></label>
>                     <select id="company" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" require>
>                         <option selected disabled class="text-gray-700 ">Department</option>
>                         <option value="ICT">Information and Communication Technology</option>
>                         <option value="Accounting">Accounting</option>
>                         <option value="Administration">Administration</option>
>                         <option value="Parts Inspection">Parts Inspection</option>
>                         <option value="PPD">PPD</option>
>                         <option value="Production 1">Production 1</option>
>                         <option value="Production 2">Production 2</option>
>                         <option value="PPIC">PPIC</option>
>                         <option value="Prodtech">Production Technology</option>
>                         <option value="Purchasing">Purchasing</option>
>                         <option value="QA">Quality Assurance</option>
>                         <option value="QC">Quality Control</option>
>                         <option value="DOK">* Direct Operation Kaizen</option>
>                         <option value="Prodsupport">* Production Support</option>
>                         <!-- <option value="SK">* System Kaizen</option> -->
> 
148,169c164,166
<     <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6" ></label>
<         <select id="company" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"require>
<             <option  selected disabled class="text-gray-700 ">Department</option>
<             <option value="Accounting">Accounting</option>
<             <option value="Administration">Administration</option>
<             <option value="Parts Inspection">Parts Inspection</option>
<             <option value="PPD">PPD</option>
<             <option value="Production 1">Production 1</option>
<             <option value="Production 2">Production 2</option>
<             <option value="PPIC">PPIC</option>
<             <option value="Prodtech">Production Technology</option>
<             <option value="Purchasing">Purchasing</option>
<             <option value="QA">Quality Assurance</option>
<             <option value="QC">Quality Control</option>
<             <option value="DOK">* Direct Operation Kaizen</option>
<             <option value="Prodsupport">* Production Support</option>
<             <option value="SK">* System Kaizen</option>
< 
<             
<          </select>
<    
<         <!-- <input type="text" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
---
>                     </select>
> 
>                     <!-- <input type="text" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
171,172c168,169
<     </div>
<   </div>
---
>                 </div>
>             </div>
178,187c175,185
<   <div class="grid md:grid-cols-2 md:gap-6">
<     <div class="relative z-0 mb-6 w-full group">
<         <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
<         <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Username</label>
<     </div>
<     <div class="relative z-0 mb-6 w-full group">
<         <input type="password" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" "  />
<         <label for="floating_last_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Password</label>
<     </div>
<   </div>
---
>             <div class="grid md:grid-cols-2 md:gap-6">
>                 <div class="relative z-0 mb-6 w-full group">
>                     <input type="text" name="floating_first_name" id="floating_first_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
>                     <label for="floating_first_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Username</label>
>                 </div>
>                 <div class="relative z-0 mb-6 w-full group">
>                     <input type="password" name="floating_last_name" id="floating_last_name" class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer" placeholder=" " />
>                     <label for="floating_last_name" class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">Password</label>
>                 </div>
>             </div>
> 
196,197c194
<  
<   <!-- <div class="relative z-0 mb-6 w-full group">
---
>             <!-- <div class="relative z-0 mb-6 w-full group">
201,202c198,199
<   
<   <!-- <div class="grid md:grid-cols-2 md:gap-6">
---
> 
>             <!-- <div class="grid md:grid-cols-2 md:gap-6">
212c209
<   <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Submit</button>
---
>             <button type="submit" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Submit</button>
216c213
< </form>
---
>         </form>
218c215
< </div>
---
>     </div>
223,224c220,221
< <!-- end of main -->
< <!-- 
---
>     <!-- end of main -->
>     <!-- 
227,228c224
< <script src="node_modules/flowbite/dist/datepicker.js"></script>
<     
---
>     <script src="node_modules/flowbite/dist/datepicker.js"></script>
230,231d225
< <!-- <script src="../path/to/flowbite/dist/flowbite.js"></script> -->
< <script src="node_modules/flowbite/dist/flowbite.js"></script>
232a227,228
>     <!-- <script src="../path/to/flowbite/dist/flowbite.js"></script> -->
>     <script src="node_modules/flowbite/dist/flowbite.js"></script>
237d232
< <!-- script for option code -->
239,250c234
< <script>
<      $('#section').change(function() {
<   var $options = $('#type')
<   .val('')
<   .find('option')
<   .show();
<   if (this.value != '0')
<   $options
<   .not('[data-val="' + this.value + '"], [data-val=""]')
<   .hide();
<   $('#type option:eq(0)').prop('selected', true)
<   // console.log("asd");
---
>     <!-- script for option code -->
252,286c236,260
<   })
< 
<   //blocking of error on refresh page
<   var $options = $('#type')
<   .val('')
<   .find('option')
<   .show();
<   if (this.value != '0')
<   $options
<   .not('[data-val="' + this.value + '"], [data-val=""]')
<   .hide();
<   $('#type option:eq(0)').prop('selected', true)
< 
< 
< //   end of script for category
< 
< 
< 
< 
< </script>
< <!-- darkmode script -->
< <script>  
< var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
< var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
< 
< // Change the icons inside the button based on previous settings
< if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
<     themeToggleLightIcon.classList.remove('hidden');
< } else {
<     themeToggleDarkIcon.classList.remove('hidden');
< }
< 
< var themeToggleBtn = document.getElementById('theme-toggle');
< 
< themeToggleBtn.addEventListener('click', function() {
---
>     <script>
>         $('#section').change(function() {
>             var $options = $('#type')
>                 .val('')
>                 .find('option')
>                 .show();
>             if (this.value != '0')
>                 $options
>                 .not('[data-val="' + this.value + '"], [data-val=""]')
>                 .hide();
>             $('#type option:eq(0)').prop('selected', true)
>             // console.log("asd");
> 
>         })
> 
>         //blocking of error on refresh page
>         var $options = $('#type')
>             .val('')
>             .find('option')
>             .show();
>         if (this.value != '0')
>             $options
>             .not('[data-val="' + this.value + '"], [data-val=""]')
>             .hide();
>         $('#type option:eq(0)').prop('selected', true)
288,290d261
<     // toggle icons inside button
<     themeToggleDarkIcon.classList.toggle('hidden');
<     themeToggleLightIcon.classList.toggle('hidden');
292,300c263,268
<     // if set via local storage previously
<     if (localStorage.getItem('color-theme')) {
<         if (localStorage.getItem('color-theme') === 'light') {
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
<         } else {
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
<         }
---
>         //   end of script for category
>     </script>
>     <!-- darkmode script -->
>     <script>
>         var themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
>         var themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');
302,306c270,272
<     // if NOT set via local storage previously
<     } else {
<         if (document.documentElement.classList.contains('dark')) {
<             document.documentElement.classList.remove('dark');
<             localStorage.setItem('color-theme', 'light');
---
>         // Change the icons inside the button based on previous settings
>         if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
>             themeToggleLightIcon.classList.remove('hidden');
308,309c274
<             document.documentElement.classList.add('dark');
<             localStorage.setItem('color-theme', 'dark');
---
>             themeToggleDarkIcon.classList.remove('hidden');
311,313d275
<     }
<     
< });
315c277
< </script>
---
>         var themeToggleBtn = document.getElementById('theme-toggle');
316a279
>         themeToggleBtn.addEventListener('click', function() {
317a281,304
>             // toggle icons inside button
>             themeToggleDarkIcon.classList.toggle('hidden');
>             themeToggleLightIcon.classList.toggle('hidden');
> 
>             // if set via local storage previously
>             if (localStorage.getItem('color-theme')) {
>                 if (localStorage.getItem('color-theme') === 'light') {
>                     document.documentElement.classList.add('dark');
>                     localStorage.setItem('color-theme', 'dark');
>                 } else {
>                     document.documentElement.classList.remove('dark');
>                     localStorage.setItem('color-theme', 'light');
>                 }
> 
>                 // if NOT set via local storage previously
>             } else {
>                 if (document.documentElement.classList.contains('dark')) {
>                     document.documentElement.classList.remove('dark');
>                     localStorage.setItem('color-theme', 'light');
>                 } else {
>                     document.documentElement.classList.add('dark');
>                     localStorage.setItem('color-theme', 'dark');
>                 }
>             }
318a306,307
>         });
>     </script>
320,347d308
< <!-- script for valid request date schedule -->
< <!-- <input type="date" id="birthdaytime" onchange="testDate()" name="birthdaytime"> -->
< <script>
< var setdate2;
< function testDate(){
<  var chosendate =  document.getElementById("datestart").value;
< 
<  
< //  console.log(chosendate)
< const x = new Date();
< const y = new Date(chosendate);
< 
< if(x<y){
< console.log("Valid");
< var monthNumber = new Date().getMonth()+1;
< const asf = new Date(chosendate);
<  asf.setDate(asf.getDate() + 3);
<  var setdate = asf.getFullYear()+"-"+monthNumber+"-"+asf.getDate();
<  document.getElementById("dateend").value = setdate;
< 
<  setdate2 = asf.getFullYear()+"-"+monthNumber+"-"+asf.getDate();
<  console.log(setdate)
< 
< 
< // console.log(x)
< }
< else{
<   alert("Sorry your request date is not accepted!")
349,360d309
<   const z = new Date();
< var monthNumber = new Date().getMonth()+1
< z.setDate(z.getDate() + 1);
<   console.log(z);
<   var setdate = z.getFullYear()+"-"+monthNumber+"-"+z.getDate();
<  document.getElementById("datestart").value = setdate;
<  console.log(setdate)
< 
<  const asf2 = new Date(setdate);
<  asf2.setDate(asf2.getDate() + 3);
<  setdate2 = asf2.getFullYear()+"-"+monthNumber+"-"+asf2.getDate();
<  document.getElementById("dateend").value = setdate2;
362,363d310
< }
< }
365,367c312,315
< function endDate(){
<     console.log(setdate2);
<     
---
>     <!-- script for valid request date schedule -->
>     <!-- <input type="date" id="birthdaytime" onchange="testDate()" name="birthdaytime"> -->
>     <script>
>         var setdate2;
369,370c317,318
<     var chosendate3 =  document.getElementById("dateend").value;
<     console.log(chosendate3);
---
>         function testDate() {
>             var chosendate = document.getElementById("datestart").value;
372,373d319
<     const x = new Date(setdate2);
< const y = new Date(chosendate3);
375c321,352
< if(x<y){
---
>             //  console.log(chosendate)
>             const x = new Date();
>             const y = new Date(chosendate);
> 
>             if (x < y) {
>                 console.log("Valid");
>                 var monthNumber = new Date().getMonth() + 1;
>                 const asf = new Date(chosendate);
>                 asf.setDate(asf.getDate() + 3);
>                 var setdate = asf.getFullYear() + "-" + monthNumber + "-" + asf.getDate();
>                 document.getElementById("dateend").value = setdate;
> 
>                 setdate2 = asf.getFullYear() + "-" + monthNumber + "-" + asf.getDate();
>                 console.log(setdate)
> 
> 
>                 // console.log(x)
>             } else {
>                 alert("Sorry your request date is not accepted!")
> 
>                 const z = new Date();
>                 var monthNumber = new Date().getMonth() + 1
>                 z.setDate(z.getDate() + 1);
>                 console.log(z);
>                 var setdate = z.getFullYear() + "-" + monthNumber + "-" + z.getDate();
>                 document.getElementById("datestart").value = setdate;
>                 console.log(setdate)
> 
>                 const asf2 = new Date(setdate);
>                 asf2.setDate(asf2.getDate() + 3);
>                 setdate2 = asf2.getFullYear() + "-" + monthNumber + "-" + asf2.getDate();
>                 document.getElementById("dateend").value = setdate2;
376a354,355
>             }
>         }
378,382c357,358
< // console.log(x)
< }
< else{
<   alert("Sorry your request date is not accepted!")
<   document.getElementById("dateend").value = setdate2;
---
>         function endDate() {
>             console.log(setdate2);
384,385d359
< }
< }
386a361,362
>             var chosendate3 = document.getElementById("dateend").value;
>             console.log(chosendate3);
387a364,365
>             const x = new Date(setdate2);
>             const y = new Date(chosendate3);
389c367
< // active page highlight
---
>             if (x < y) {
391,395d368
< var activepage = document.getElementById("profile");
<  activepage.classList.remove("text-gray-700");
<   activepage.classList.add("text-blue-700");
<   activepage.classList.remove("dark:text-gray-400");
< activepage.classList.add("dark:text-white");
396a370,373
>                 // console.log(x)
>             } else {
>                 alert("Sorry your request date is not accepted!")
>                 document.getElementById("dateend").value = setdate2;
397a375,376
>             }
>         }
400a380
>         // active page highlight
402c382,387
< </script>
---
>         var activepage = document.getElementById("profile");
>         activepage.classList.remove("text-gray-700");
>         activepage.classList.add("text-blue-700");
>         activepage.classList.remove("dark:text-gray-400");
>         activepage.classList.add("dark:text-white");
>     </script>
411a397
> 
Common subdirectories: helpdesk/vendor and helpdeskts2/vendor
